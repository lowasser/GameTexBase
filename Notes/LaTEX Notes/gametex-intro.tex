\documentclass[sheet]{GameTexBase}
\usepackage[letterpaper, margin=1in]{geometry}
\usepackage{soul}
\usepackage{listings}
\usepackage{hyperref}
%\newcommand{\gametex}{GameTeX}
\newcommand{\pronounfile}{\lstinline|Lists/char-LIST.tex|}

\lstset{basicstyle=\ttfamily}
\title{Guide to \gametex{}}
\author{Louis Wasserman}
\begin{document}
\maketitle{}
\setcounter{tocdepth}{2}
\tableofcontents
\begin{section}{Introduction}
\begin{subsection}{Abstract}
The goal of this document is to provide a general guide to \gametex{} for LARP authors without a technical background -- ideally, who have no more experience in ``programming'' than spreadsheet formulas.  In particular, the hope is to enable you, a potential or active LARP author, to review what features \gametex{} can offer your game, how difficult it will be to use, and thereby to help you make a decision about whether or not to use \gametex{}.  If you do decide to do so, then this document should provide a high-level reference enough to answer basic questions and to get you started, though we won't delve into all the power-user features \gametex{} offers.

\end{subsection}
\begin{subsection}{History}
The Stanford computer science professor Donald Knuth, dissatisfied with the technology of 1977 for typesetting his book series \textit{The Art of Computer Programming}, built a programming language called TeX,
pronounced ``tech'' and sometimes stylized \TeX{}, for generating clean, readable versions of content that can include equations, programs, and more. 
Leslie Lamport, in 1984, built an additional system atop \TeX{}, now called LaTeX (pronounced ``lah-tech" and sometimes stylized \LaTeX{}), that formalized what amounts to a standard for how these documents are written.  LaTeX has become overwhelmingly the standard for publishing research in many fields, including math, computer science, physics, statistics, engineering, and other fields.

Notably, many students in these fields have studied at the Massachusetts Institute for Technology, where the MIT Assassins' Guild has run LARP of various kinds since 1982.
As you might expect from MIT students, there was great interest in developing technological tools to facilitate LARP production, which Ken Clary developed into \gametex{} over the course of the 2000s.
MIT-style games of the time would be characterized today as secrets-and-powers games that almost always involved combat, especially with toy guns, though like other associated communities, the Assassins' Guild of today
has moved in a more narrative-oriented direction.
Clary's career in LARP authorship technology spans decades; here are the points I've been able to map:
\begin{enumerate}
\item Clary wrote a LARP written for a spring 1998 course ``Structure and Interpretation of Non-Linear and Interactive Narrative'' in bare HTML.  (Clary appears to have graduated MIT with a bachelor's degree in 2000.)
\item Clary co-wrote the September 2001 game  ``Reality Check III: Dinner at the Schloss Himmelbrand'', which still has publicly visible \LaTeX{}-produced documents.
\item Philip Tan's 2003 \href{https://drive.google.com/file/d/1RiGc2OWtXIPlebHVrixv2IpAbSGAThtd/view?usp=sharing}{master's thesis} references Tan's use of ``GameTeX beta 2,'' credited to Clary, to write a three-day game ``A New Deal'' that ran in 2002.  (Tan would later become the creative director of the MIT Game Lab and is a research scientist there as of 2024.)
\item Clary released \gametex{} version 1.0 in December of 2008.
\item Clary has remained part of the MIT community over the years, being mentioned as a martial arts instructor for a student group in 2020.
\item Clary has posted updates to \gametex{} even more recently, as late as December 2023 (three months before I wrote this sentence).
\end{enumerate}
More recently, MIT graduates experienced in Assassins' Guild traditions went to Stanford for grad school, and brought their traditions to the Stanford Gaming Society.  As members of the SGS graduated Stanford, 
they formed a Bay Area nonprofit: the Luminary Roleplay Society.  I play with the LRS and have edited several games for them, and now I am writing this for you.  Some of this document will be written in the first person as a result, including discussion of my own contributions.  There are many extant versions of \gametex{} as people have made their own modifications, but I have significantly modified the version in this particular repository, especially by overhauling the gender and pronoun system (see \ref{gender}) to reflect as much of the spectrum of gender as possible.  This guide will mostly apply equally well to other versions of \gametex{}, with some exceptions, such as that area.
\end{subsection}
\begin{subsection}{Why use \gametex{}?}
\gametex{} takes advantage of the fact that \LaTeX{} is not \textit{simply} for writing technical papers, but is essentially a programming language for text and formatting in ways that are highly useful to LARP authors.  To pick some examples:
\begin{itemize}
    \item During the writing process of a game, names of all sorts of things can change – not simply characters, but political entities, artifacts, magical powers, and more.  Keeping these all synchronized can be difficult.  (Covered in \ref{lists}.)
    \item When a game is run for different groups of people, not just character names but pronouns and gendered language can need to be changed.  A simple find/replace is often inadequate, especially when you run into conjugations like ``he was" versus ``they were."  (Covered in \ref{gender}.)
		\item When characters have secret identities, like Spider-Man's identity as Peter Parker, it's important to make sure the right characters know that individual under the right name.  (Covered in \ref{identities}.)
    \item Not all text should be immediately visible to the players holding the printed item.  \gametex{} can automatically print dotted lines for folding and stapling shut secrets, with text on the outside describing when to open it, as well as two-sided cards where different players see different sides of the cards.  (Covered in \ref{mems}.)
    \item Cross-references can ensure players have up-to-date indexes of the characters and players they know before game, as well as all the items and documents they should have access to.  GMs can have the same index cross-referenced the other way, with all secrets revealed.  Both of these help everyone make sure that nobody is missing something they need, or in possession of secrets they shouldn't have.  (\gametex{} does this automatically.)
\end{itemize}
\gametex{}, while providing extensive support for MIT-style games, can be used for a much broader variety of games, and certainly has been by the Assassins' Guild, SGS, and LRS.  
While it's not the most intuitive system to pick up and use, especially for game authors who don't have any experience with programming languages, \gametex{} can offer the above benefits and more.  It is unlikely to be worth it for, say, a small parlor LARP.

If any of the following describe the LARP you want to write -- especially the first three -- then I recommend strongly considering \gametex{}:
\begin{itemize}
\item Your game will run multiple times, whether concurrently or sequentially.
\item Your game's character sheets and/or lore are prewritten by one or more game authors, with minimal pre-game player-generated content.
\item Your game involves significant mechanics, such as character powers, or secrets revealed to the characters under certain conditions.
\item Your game has geography within the gameplay space, requiring GMs to put the right items, signs, or the like into specific places in game.
\item Your game is large or will be written over a long period.
\end{itemize}

There is one case \gametex{} is specifically, \emph{unusually} bad for: games that want significant elements of graphic design or visual branding for all your characters' documents.  You can add images, with some work you could likely automatically add images to all of some type of element like characters sheets, and you can control fonts and the like, to be clear. You can also use other tools to write special documents, like rules or a world guide, that you organize separately.  However, you cannot include or cross-reference these other documents in the material generated by \gametex{}, and your game's printed content will almost certainly look aesthetically like this guide you're reading.
\end{subsection}
\end{section}
\begin{section}{Setting up the technology}
\begin{subsection}{Setting up \LaTeX{}}
Unlike Google Docs or Microsoft Word, where you see what the document will look like as you write it, all variants of \TeX{} require you to edit raw text files -- almost all of which are \lstinline{.tex} files -- and \emph{compile} them into PDF files like the one you're reading now.  Most frequently, that process is broken up into two separate programs which you will need to install: the program that takes the \lstinline{.tex} files and turns them into PDFs, and a separate program which is used to edit the files.  You could use Notepad or any other extremely basic text editor for the purpose, but programs like TeXnicCenter for Windows provide nice features like highlighting \LaTeX{} commands, providing buttons to apply format (like bolding) to a particular block of text, and automatically scrolling to whatever place in your \lstinline{.tex} file is generating an error.

Here are the steps to install both of those programs.

\begin{enumerate}
\item Begin by installing MikTeX.  Think of \LaTeX{} as a file format, and MikTeX as the program for taking files in that format and turning them into PDFs, etc.
\begin{enumerate}
\item Find a MikTeX distributable at \url{https://miktex.org/}.
\item You can install it just for the current user.
\item Make sure you allow installation of packages on the fly (with or without approval).
\end{enumerate}
\item For Windows, download and install TeXnicCenter (\url{https://www.texniccenter.org/}).  Think of TeXnicCenter as sort of like Word or Excel: a program for editing \LaTeX{} files.  If you're more familiar with software development, TeXnicCenter is your IDE.
\item If this is your first time using \gametex{}:
\begin{enumerate}
\item Open up TeXnicCenter.
\item Navigate to the “Build” menu, and select “Define Output Profile”
\item Name the profile “GameTeX”
\item Set the “source” path to \texttt{/miktex/miktex/bin/x64/pdflatex.exe} (or whatever matches wherever you installed MikTeX on your computer.)   
\item In the next text box, “commands to compiler”, add the following:
\begin{verbatim}
-interaction=nonstopmode "%pm" -enable-write18
\end{verbatim}
% This is specific to TeXnicCenter.
\item \label{includedir} Add a space after that, and then: 
\begin{verbatim}
-include-directory="<path to LaTeX folder of game>"
\end{verbatim}
For example, on my computer, this is
\begin{verbatim}
-include-directory="C:\Users\self\Documents\GitHub\MyLARP\LaTeX"
\end{verbatim}
\end{enumerate}
\item If this is not your first time using \gametex{}, repeat step \ref{includedir} for your new project.  You should not have to delete the \lstinline|-include-directory| for your previous project.
\end{enumerate}
TODO: integrate this with the whole ``downloading the project'' part.  Maybe reorder?
\end{subsection}
\begin{subsection}{Git and version control}
In this section, we will discuss an overview of version control as applied to games.  Excellent tutorials for the Git software exist elsewhere, and we will defer to those to actually teach you how to use Git.

Version control is a technology that exists in the space between the ``version2\_final\_edited\_definitely\_final.doc'' common when contributors must email versions back and forth, and a technology like Google Docs that keeps documents instantly synchronized even with multiple people typing in the same document at the same time.

It is quite possible to use \gametex{} without using version control.  If you are writing a game on your own, it is almost completely unnecessary.  However, you may be aware that the synchronization technology in Google Docs and related apps only work for the specific kinds of files they're designed for.  You can dump your \gametex{} files in Google Docs and edit them there, and many LARP authors who use \gametex{} do this at some point in the process.  I am writing this sentence right now in a Google Doc, in fact.  However, you, and I, will have to copy them back into a \texttt{.tex} file on our computers, and compile them to first make sure they work, and then to produce a document others can read, all of which can be inconvenient and can run into all the usual problems with managing two versions of something that aren't automatically synchronized.

Another important aspect of version control is that it manages versioning for an entire file folder on your computer.  Emailing versions of one file back and forth is one thing, but emailing back and forth versions of two -- or more -- files that must be kept in sync is truly a nightmare, and \gametex{} will require you to manage that level of synchronization.

We've already discussed that \TeX{} is a programming language, however, and programmers have developed many solutions to synchronizing work between multiple people working on software projects.  Most \gametex{} projects (in my experience) simply use what is by far the most popular version control software, in use by 95\% of programmers according to Wikipedia: Git.

Once you have set Git up -- which will be explained in the Git tutorial and in the following section -- the usual workflow looks like this:
\begin{enumerate}
\item Each game writer has a copy of the game in progress on their computer.
\item They edit it on their computer.
\item They mark their changes as ``committed" on their computer, usually adding some single sentence explanation of what was changed.
\item They \textit{pull} the latest ``master" version from some shared website, usually GitHub.  
\item If there are any conflicts – for example, if one author deleted a paragraph, and another author edited it – the writer making the new change decides how to reconcile the conflicting changes.  Git edits the file to show the two conflicting versions next to each other, so you can see what happened.
\item If there were any conflicts, the writer commits the reconciled version on their computer, in what is called a \textit{merge}.
\item The writer uploads the combined changes to the master version, in what is called a \textit{push}.
\end{enumerate}

There are variations on this process -- it's often a good idea to pull frequently to address conflicts before they get too big, and you may not bother to push for several commits -- but it always looks more or less like this workflow.

It's worth at least mentioning a feature of Git that is very important to software engineers, although it's rarely useful to LARP authors: the ability to track the exact history of something, when it was added and by who, and the ability to return to the earlier version.  In software, going back to the last version that wasn't buggy can be critical; in LARP writing, not so much, with one major exception.  If you deleted something you shouldn't have, even a whole file, Git can recover it as of the last commit.  Commit often!
\end{subsection}
\begin{subsection}{Setting up your \gametex{} folder}
TODO: how to fork this repository into a directory with your game's name
\begin{subsubsection}{The class and path files}
\end{subsubsection}
\end{subsection}
\end{section}
\begin{section}{Writing Game Content}
Now, we'll get to the good stuff: actually writing your game.  This is, of course, supposed to be the fun part, and is certainly what most GMs spend the most time on.

\begin{subsection}{Basic \gametex{} Text}
Let's finally discuss what you'll be typing when you write the body of your game.
A typical line in a \gametex{} character sheet might look like:
\begin{verbatim}
Your father was killed by a six-fingered \cSixFinger{\person}.  
You have sworn vengeance on \cSixFinger{\them}.
\end{verbatim}

First, \lstinline{\cSixFinger} is a reference to a character, the six-fingered individual.  In \TeX{}, the backslash indicates the beginning of a command, with \lstinline|{}| around any arguments being passed to that command, just like spreadsheets might have \texttt{SUM(A1, B2)}.  Capitalization matters!  In \gametex{}, conventionally, named things like characters are given an associated command, beginning with a lowercase letter corresponding to the type of thing: \lstinline{c} for character, \lstinline{i} for item, \lstinline{p} for place, and so on.  Additionally, not putting anything in the \lstinline|{}| simply outputs the name of the thing, so: 
\begin{verbatim}
\cCharacter{} was born and raised in \pNation{}.
Every resident is given a \iBirthCertificate{} at birth.
Check your \bNationPolitics{} sheet for details.
\end{verbatim}

Players don't get to see these commands (unless you have a typo), so you can name things whatever is most memorable for you as an author, even if it involves spoilers: feel free to create \lstinline|\cAssassin|, who is known to most characters as the team mom who makes tea for everyone, or for \lstinline{\cRapunzel} to represent the character with magical hair.  If you accidentally wrote \lstinline{cRapunzel} instead of \lstinline{\cRapunzel}, however, the players would see that -- so check your generated sheets!

Next, \lstinline{\person} and \lstinline{\them} are special \gametex{} commands that substitute different phrasing depending on character gender.  If \lstinline{\cSixFinger} is assigned female, this will read, ``Your father was killed by a six-fingered woman.  You have sworn vengeance on her.''  We will discuss more about pronouns and gendered words in section \ref{gender}.

Note that characters, items, places, and more can be written in the game without actually having corresponding sheets.  This can be handy to manage things like NPCs, artifacts, and locations that are part of the lore.  For example, you might decide to write 
\begin{verbatim}
Your \cMissingParent{\parent} was murdered.
\end{verbatim}
instead of 
\begin{verbatim}
Your father was murdered.
\end{verbatim}

When is this worth it?  It's certainly worth it if the parent wasn't actually murdered and is a PC.  It may also be worthwhile if you think you might change things around later: which parent was murdered.  Similarly, you might use \lstinline|cold iron|, or you might decide to write \lstinline|\iFaeKryptonite{}| in case you want to name it something else later on, perhaps if you think you might replace the fae with Kryptonians.
\end{subsection}
\begin{subsection}{Gender, pronouns, and conjugation}
\label{gender}
English references gender in many common words, and they/them pronouns often require different conjugation.  \gametex{} provides special support for character gender, using commands that substitute different versions of text based on a character's gender.  This is not perfect, and it's easy to get wrong by accident.  It's always a pain to find you've accidentally written ``He believe you're alive" or other grammatical errors.  However, many GMs find it's still preferable to trying to do find/replace shenanigans when a player gets recast or a game gets rerun with players who want to play different genders.  This is especially true when there are references to a character's gender without the character's name, such as the ``six-fingered woman'' above; you would have to manually search for each reference, and remember which character is being referred to by each gendered word or pronoun.  I have found it becomes more natural with practice to use \gametex{}'s features for gender and conjugation.

\gametex{} does make a number of simplifying assumptions that don't capture the full spectrum of gender.  It attempts to capture as much of that spectrum as possible within the limitations of what I and other \gametex{} editors can do at a software level, and what game authors in a rush to recast a character can reasonably check.  If you or your players are dissatisfied by these restrictions, you as a game author can always manually write the appropriate words and pronouns, but we hope that will very rarely be necessary.

Here are the most important of the simplifying assumptions made by \gametex{}:

\begin{itemize}
\item Characters select pronouns from a modest list of options (listed below).
\item Characters may have more than one set of pronouns -- he/they, for example.  These pronouns are used when specifically identifying which pronouns a character uses, e.g. ``You are best friends with Sam (he/they).'' However, whenever actually referring to a character in a sentence, the same pronouns are used for every reference to the given character.  For ``slashed'' pronouns, it is always the first one: he/they characters are always referred to as ``he,'' and they/he characters are always referred to as ``they.''  For ``arbitrary'' options such as ``any pronouns'' or ``genderfluid,'' it is always ``they.''
\item All gender-sensitive and pronoun-sensitive terms ``match gender.''  For example, a character using she/her pronouns (or she/they pronouns) is always referred to as a ``mother,'' ``woman,'' ``princess,'' ``daughter,'' and so on.
\item All nonbinary genders use the same nonbinary term: e.g. anything other than a ``he'' or ``she'' (or a he/something, or she/something) is a monarch, not a king or queen or something else.
\end{itemize}

Here is the complete set of built-in pronouns and pronoun combinations.  It is very easy to add additional combinations of existing pronouns, and fairly easy to add additional sets of pronouns.

\begin{center}
\begin{tabular}{c|c|c}
\textbf{Command} & \textbf{Described pronouns} & \textbf{In a sentence} \\
\lstinline|\hehim| & he/him & he \\
\lstinline|\sheher| & she/her & she \\
\lstinline|\theythem| & they/them & they \\
\lstinline|\zezir| & ze/zir & ze \\
\lstinline|\faefaer| & fae/faer & fae \\
\lstinline|\eyem| & ey/em & ey \\
\lstinline|\itits| & it/its & it \\
\lstinline|\avoidpronouns| & avoid pronouns & character's name\footnote{Unfortunately, after some research, I couldn't find a pronoun-avoidant version of ``themself'' -- e.g. ``Sam walked through the portal and found themself in the Enchanted Forest'' -- that did not require rewriting the sentence.  We fall back to ``themself'' for that case.} \\
\lstinline|\hethey| & he/they & he \\
\lstinline|\theyhe| & they/he & they \\
\lstinline|\heshe| & he/she & he \\
\lstinline|\shehe| & she/he & she \\
\lstinline|\shethey| & she/they & she \\
\lstinline|\theyshe| & they/she & they \\
\lstinline|\zethey| & ze/they & ze \\
\lstinline|\theyze| & they/ze & they \\
\lstinline|\anypronouns| & any pronouns & they \\
\lstinline|\genderfluid| & genderfluid & they
\end{tabular}
\end{center}

We will discuss how to assign these gender settings to characters in section \ref{charlist}.  The ``described pronouns'' are included in special references to the character discussed in \ref{charintro}.

Here is an example of game text using several gender-sensitive commands:

\begin{verbatim}
\cCharacter{\intro} is your \cCharacter{\sibling}.
\cCharacter{\They \have} always wanted to be the
\cCharacter{\Majesty} of \pNation{}.  
\cCharacter{\They\re} also madly in love with 
\cCharacter{\their} \cPartner{\spouse}, \cPartner{}, the 
\cPartner{\offspring} of \cInLaw{}. \cCharacter{} 
believe\cCharacter{\verbs} in the religion of the Fire
\cFireGod{\cDeity} \cFireGod{}, and hope\cCharacter{\verbs}
to become \cFireGod{\their} \cCharacter{\cleric}.
\end{verbatim} 

This might render as:

\begin{quote}
Sam Solo (she/they) is your sister.  She has always wanted to be the Queen of Oz.  She's also madly in love with her spouse, Chell, the offspring of Maximilian.  Sam believes in the religion of the Fire God Helio, and hopes to become his priestess.
\end{quote}

(The use of \lstinline|\intro| is new, and we'll discuss it in \ref{charintro}.)

Note that you can cheat by putting multiple commands, with spaces etc., in the same set of braces, as long as everything is referring to the same character; this pattern is used in \lstinline|\cCharacter{\They \have}|.

Most actual game text isn't quite this dense with gendered words and conjugated verbs.  \gametex{} has a large number of gendered words common to LARPs built-in, and we won't go through them all.
To see all the pre-defined nouns, find the section labeled \texttt{Gendered nouns} in \pronounfile{}; we won't go through them here.  Common verb conjugations are important to know, however:

\begin{itemize}
\item he believes, they believe, \lstinline|\cCharacter{\they} believe\cCharacter{\verbs}|.
\item he worries, they worry, \lstinline|\cCharacter{\they} worr\cCharacter{\verby}|.
\item he goes, they go, \lstinline|\cCharacter{\they} go\cCharacter{\verbes}|.
\item he is, they are, \lstinline|\cCharacter{\they} \cCharacter{\are}|.
\item he has, they have, \lstinline|\cCharacter{\they} \cCharacter{\have}|.
\item he was, they were, \lstinline|\cCharacter{\they} \cCharacter{\were}|.
\item he's happy, they're happy, \lstinline|\cCharacter{\they\re}| happy.
\end{itemize}

Remember that the name of the character isn't inserted into the text – just the appropriately gendered or conjugated word.  So, for example, if a character's sibling was believed dead but is actually in the game but undercover, you can mention \lstinline|\cCharacter{}'s lost \cUndercover{\sibling}| without risk of spoilers.

%If you are really picky, this repository has support for picking the right a/an for an item: you can write \lstinline|\iIdentCard{\MYarticle} \iIdentCard{}|, and set the appropriate article in the item definition.
%Items do not currently have support for correctly generating a/an, so for example, if you wrote ``you have a \lstinline|\iBirthCertificate{}|'' and that item was later given the name ``identification card,'' you would end up with ``a identification card" instead of ``an identification card." Sorry!  I would fix this, if I knew how...
\end{subsection}
\begin{subsection}{Character References}
\label{charintro}
\label{charcontact}

Different characters will often be referred to in different ways.  Consider the following:

\begin{quote}
Dr. Everett Scott (he/him) is quite pretentious, and few character sheets would refer to him as Everett -- only Dr. Scott.  Janet Weiss (she/they), however, is a more casual figure, and few characters even remember her last name -- she is almost always referred to as Janet.

\begin{desc}[Contacts]
\item[Janet Weiss (she/they), played by Sue Awesomecostume (they/them)] Your fianc\'ee.
\end{desc}
\end{quote}

\gametex{} goes to a great deal of trouble to support these variations without GMs having to think about the proper version of every reference to every character.  We will review the basics here, but more detailed documentation of all the available features can be found in \texttt{Extras/README-namemappings.txt}.

By default, \gametex{} attempts to recognize Western naming conventions, including prefixes like ``Dr.'' and suffixes like ``, Jr.''.

References to \lstinline|\cCharacter{}| are equivalent to \lstinline|\cCharacter{\usual}|, which by default use a character's first name.  References to \lstinline|\cCharacter{\formal}| use a character's full name, including titles.  If you want to refer to a character informally, use \lstinline|\cCharacter{\informal}|, which would refer to Dr. Scott as Everett.

All of this is customizable.  You can switch \gametex{} to use Eastern naming conventions for your game or for one character.  You can update things so that some or all characters are referred to formally by default.  See the documentation for details.

The first reference to a character in a character sheet should usually be \lstinline|\cCharacter{\intro}|, which uses a character's full name and includes their full set of pronouns (\ref{gender}).

\gametex{} additionally has a special way to arrange character contacts on a character sheet, which we'll show below, along with the \gametex{} code you should use for the above example.
\begin{verbatim}
\cDocScott{\intro} is quite pretentious, and few character sheets would refer
to him as \cDocScott{\informal} -- only \cDocScott{}.  
\cJanet{\intro}, however, is a more casual figure, and few characters even
remember \cJanet{\their} last name -- \cJanet{\they \are} almost always
referred to as \cJanet{}.

\begin{contacts}
  \contact{\cJanet{}} Your \cJanet{\betrothed}.
\end{contacts}
\end{verbatim}

TODO: make sure this works correctly
\end{subsection}
\begin{subsection}{\LaTeX{} Formatting}
LaTeX arranges its formatting in some specific ways you might not be used to.

We recommend starting by reading \href{https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes#Adding_comments}{this guide} to basic \LaTeX{} starting there and going all the way down, skipping the sections on math.
This includes things like how to do paragraphs, bold and italic fonts, tables, and lists.

There are some special additional considerations and options for \gametex{}, which we will discuss.

An important note here is that Git merges files line-by-line, so if you have multiple sentences on the same line of the file, and one game writer changes one sentence, and another writer changes a different sentence, they will still have to manually resolve the conflict when they merge.  As a result, it's technically a little easier if you actually put each sentence on its own line of the file.  That said, I don't know any author who actually bothers to do this, myself included; it just feels weird to have sentences on their own lines.

\begin{subsubsection}{Special symbols}
Curly quotes are a little weird: you must use tildes for the left side, and it's conventional to use two single quotes for the right side, although you can use a double quote.  A standard version: \lstinline{``text in quotes''} produces ``text in quotes''.

Some characters have special meaning in \LaTeX{}, and you need special commands to make them appear correctly:

\begin{center}
\begin{tabular}{c c}
 \textbf{Symbol} & \textbf{Command} \\
 \& & \lstinline|\&| \\
 \$ & \lstinline|\$| \\
 \{ & \lstinline|\{| \\
 \} & \lstinline|\}| \\
 \% & \lstinline|\%| \\
 \# & \lstinline|\#| \\
 \_ & \lstinline|\_| \\
 \^{} & \lstinline|\^{}| \\
 \textless & \lstinline|\textless| \\
 \textgreater & \lstinline|\textgreater| \\
 \textbackslash & \lstinline|\textbackslash|
\end{tabular}
\end{center}
\end{subsubsection}
\begin{subsubsection}{Comments}
\% signs, in \LaTeX{}, mark \textit{comments}: whatever comes after a \% on the same line of your \texttt{.tex} file will not output.  This can be very handy when editing a draft or leaving notes to yourself.
This can be handy as a game author to leave notes to yourself:
\begin{verbatim}
% TODO say why we want the Vizier dead
\end{verbatim}
In many built-in files in \gametex{}, you will see documentation and explanations about how to do things in comment lines.  Remember, you can copy and paste example code from these comments, but you will need to delete the \% to make them actually do anything.

This is not necessarily the best tool for all use cases, however.  \gametex{} has a command \lstinline|\TODO{...}| with a special property: when you generate the PDFs of your game in \emph{draft mode}, they will be included, but when you generate in \emph{production mode}, they will be skipped.  Not every GM uses this, as remembering to switch between draft and production modes adds a separate step not everyone bothers with.  However, if I wanted to print out my game in its draft stages to do editing and notes by hand, but wanted to make sure I didn't accidentally leave spoilers for players, I would certainly use this feature.  Learn about how to set draft versus production modes in \ref{draft}.
\end{subsubsection}

\begin{subsubsection}{\gametex{} Lists}

\gametex{} introduces some additional, more compactly formatted versions of various kinds of lists, including optional labels for the lists.  This example includes use of the \lstinline|\contact| tool discussed in \ref{charcontact}.

\begin{verbatim}
\begin{itemz} % we could put [Rumors] here to name the list, but we don't have to
\item Rumor 1
\item Rumor 2
\end{itemz}
\begin{enum}[Priorities]
\item Priority 1
\item Priority 2
\end{enum}
\begin{desc}[Reasons]
\item[Pro.] A good reason.
\item[Con.] A bad reason.
\end{desc}
\end{verbatim}
compiles to 
\begin{itemz} % we could put [Rumors] here to name the list, but we don't have to
\item Rumor 1
\item Rumor 2
\end{itemz}
\begin{enum}[Priorities]
\item Priority 1
\item Priority 2
\end{enum}
\begin{desc}[Reasons]
\item[Pro.] A good reason.
\item[Con.] A bad reason.
\end{desc}
\end{subsubsection}
\end{subsection}
\end{section}
\begin{section}{Files and organization}
\begin{subsection}{Special Terminology in \gametex{}}
When you look at your \gametex{} folder, you may see folders named \texttt{Greensheets} and other terms you might not have heard before.  \gametex{} uses certain conventions of the MIT Assassins' Guild for terminology around the various things that go into a game.  Some of these terms are fairly universal and unsurprising, such as \textit{abilities, stats, charsheets}, and more.  Here are some terms that are not universal among LARP communities that are important to how \gametex{} organizes things.
\begin{itemize}
    \item A \textit{bluesheet}\footnote{The distinction of bluesheets and greensheets dates quite far back: Philip Tan's thesis cites a reference to this distinction in a 1990 thesis by Leah M. Bateman.  I cannot find this earlier document, unfortunately.} -- traditionally printed on blue paper -- contains in-universe lore.  Some bluesheets might contain lore known by all players, such as a history of global politics, and some might contain lore that only some characters know, such as the secret history of the Assassins' Guild.  Bluesheets are never transferable and are given to players to learn about the world before the game begins.
    \item A \textit{greensheet} -- traditionally printed on green paper -- describes particular mechanics from an out-of-game perspective.  For example, a ritual requiring preparation over the course of all of game likely has an associated greensheet describing the preparation steps.  Greensheets are not transferable between characters, but might be unlocked midgame by finding a place, joining a faction, or gaining a power.
    \item A \textit{whitesheet} is an \emph{in-universe} document.  For example, a whitesheet might be a blank page to write a treaty, with spaces for each faction's representatives to sign.  Alternately, a whitesheet might contain the secrets of a book buried in the library, which a character could steal and hide if they don't want that information public.
    \item A \textit{mempacket} is some secret information, in or out of character, that is only opened under certain conditions.  For example, you might have a mempacket whose outside says: ``Open after speaking to Count Rugen for a minute.'' The inside might reveal: ``He tries to hide it, but he has six fingers on his right hand.''  Mempackets are named for their frequent use as unlockable memories of a character's past.
    \item A \textit{membook} is an unordered collection of mempackets, all stapled together as one thing to carry.  For example, a character who can predict the future of many other characters might have a page in their membook for each one.
    \item A \textit{notebook} is like an ordered sequence of mempackets, all stapled together as one thing, usually reflecting a chain of dependent tasks.  For example, a notebook might say things like ``At the beginning of the game, open the first page,'' with the first page revealing ``You feel that tonight you will find who slew your father!  Look around until you find a six-fingered man, and then open the second page,'' and so on.  Notebooks are named to evoke the term ``research notebook,'' a common use case for a character trying to solve a mystery by completing a sequence of investigations.
\end{itemize}

Pick and choose the types of elements needed for your game.  Each of these features are optional, and many reflect the competitive style of the tradition they come from, including active attempts to fight metagaming.  While it can be tempting to use all of \gametex{}'s bells and whistles, keep in mind the sort of game you're writing and the audience you're writing for.

\begin{subsubsection}{Lists}
\label{lists}
The core setup of a game is in the files in the \lstinline{Lists} directory: \lstinline{char-LIST.tex} and so on.
While you will have separate files for character sheets and other things that take a page or more, \gametex{} requires you to define all your items, characters, places, signs, and so on in these list files.
For elements that don't take a full page, this is all you need -- there is no \texttt{Items} directory; you define all your items in \lstinline{item-LIST.tex}.

% These files, and the \lstinline{Lists} directory, have solid documentation, with a good overview in \texttt{Lists/README.txt}.  This documentation does go into technical detail for power users, however

Each of these files already has examples of what to put in them -- example characters, mempackets, and so on.  These are also easier to copy and paste than anything I could put in this document.
However, it'll be useful to review them, and to discuss all the options they offer.

Importantly, the information in the \lstinline{xxxx-LIST.tex} files is the only information that is usable for cross-references between files, including references to the names of characters, items, abilities, and so on.
\end{subsubsection}
\end{subsection}
\begin{subsection}{Characters}
\label{charlist}
The list of characters will go in \lstinline|Lists/char-LIST.tex|.  This file contains TODO at the beginning, but then, eventually, the line
\begin{verbatim}
%%%%%%%%%%%%% The PCs %%%%%%%%%%%%%%%
\end{verbatim}

This is where your player characters will go.  The file has an example character definition that is conveniently copy/pastable, but we will skim one here.

\begin{subsubsection}{Stats}
Characters can get assigned statistics, which can be numbers or short bits of text.  To create a statistic, read the instructions in \lstinline|Lists/char-LIST.tex| under ``Character stats'', which shows how to introduce a ``hit points'' stat.

One nonobvious use of statistics is to create statistics with obscure names -- usually Greek letters like $\alpha$ (which is written \lstinline|$\alpha$|).  Philip Tan's thesis:
\begin{quote}
For instance, a player may have a positive $\psi$ stat without realizing that his
or her character is a latent psychic. Another, better-informed character might be able to
read someone else’s $\psi$ stat and detect the psychic ability of others.
\end{quote}
\end{subsubsection}
\begin{subsubsection}{Numbers}
Characters may optionally be assigned numbers, which appear on their badges (see \ref{badges}). Because badge numbers are only readable by getting close enough to a character to read their badge,
they are most often used for mechanics where some or all characters can learn something about another character by speaking to them or spending time near them.  Here are some illustrative examples:
\begin{itemize}
\item I recognize character 239's voice as my father's murderer.
\item As an experienced undead hunter, I recognize characters with a last digit of 4 as vampires.
\item The first digit of each badge number represents the tens digit of the character's apparent age, so despite character 173 acting suspiciously, they couldn't have murdered the king 25 years ago.  (This convention is particularly common.)
\end{itemize}

At a game design level, using this sort of mechanic makes players spend time searching for the character or characters they seek without knowing exactly who to talk to in advance.  For example, imagine Inigo Montoya was given a
mempacket (\ref{mems}) whose outside said, ``Open if you speak to Count Rugen for one minute.''  Inigo's player might find it hard to resist seeking out the Count Rugen character as the first thing they did in game, and might learn that Rugen has six fingers in the first few minutes.  If instead Inigo's mempacket specified character 239, Inigo would have to spend time walking around and getting to know people, and might feel like they get to discover Rugen more organically.

To assign a character's number, use \lstinline|\s\MYnumber{123}| (or whatever number you are giving them) in their character definition in \lstinline|char-LIST.tex|.
To reference another character's number, as in ``my father's murderer'', use \lstinline|\cCharacter{\MYnumber}|.
\end{subsubsection}
\begin{subsubsection}{Identities}
\label{identities}
\gametex{} has extremely good support for characters with layered identities.  Some examples include:
\begin{itemize}
\item Thomas is known to his closest friends as Tommy, and their character sheets all refer to him as such.
\item Peter Parker gets three badges: one under the name Peter Parker describing him as a teenager, one under the name Peter Parker that describes him as a press photographer (that might get him access to crime scenes), and one for the name Spider-Man.
\item Everyone knows Ella as Sandy, and Glinda has magically compelled her not to reveal her true identity.
\end{itemize}
All these are done as ``overlays'' to the character, so references to Spider-Man automatically use Peter's pronouns, for example, without additional work.

This is extensively documented in \lstinline|Extras/README-identity.txt|.  TODO: consider moving that content here.
\end{subsubsection}
\end{subsection}
\begin{subsection}{Items}
When to use an item?  When to use which kind of item?

\begin{subsubsection}{Moving items}
To support secrecy and intrigue in the MIT style of LARP, \gametex{} has built-in support for two standardized mechanics that apply to items.  In case those are useful to your game, we will briefly cover them.
\begin{itemize}
\item An item can be configured with \lstinline|\unstash| to make it unstashable: unable to be hidden.  This can be a kludge to ensure that people always have a chance to find it, or simply a mechanic indicating the represented item is too big to be meaningfully hidden.
\item An item can be configured with \texttt{\textbackslash{}bulky\{$N$\}} to make it $N$ hands bulky.  The general rule is that an $N$-hands bulky item takes $N$ individual human hands to move easily, and can be dragged slowly with $N-1$ hands, which may be zero.  For example, a heavy duffel bag is likely one hand bulky because it can be carried easily in one hand or sort of kicked along the floor slowly, but a large urn is likely two hands bulky.  Traditionally, corpses are three hands bulky, meaning they can be dragged slowly by one person or carried easily with one other modest-sized item by two people.  Items at least one hand bulky are usually impossible to conceal.
\end{itemize}
\end{subsubsection}
\begin{subsubsection}{Numbers}
As with characters, some games have used item numbers to reveal information that some characters can identify at a glance, though not necessarily at game start.  Philip Tan's thesis:
\begin{quote}
For instance, some characters may know that magical items can kill monsters but those
characters may be unaware that the only magical weapons in games are certain charmed
daggers. The GMs...must provide some players with the
ability to distinguish the daggers from all the other, non-magical items...To serve these purposes, item cards often have a series of numerical digits printed along
with their text descriptions. These numbers reflect traits of items without stating that
information in readable prose. Some players may know that a magical item will have a
leftmost digit greater than 5.
\end{quote}
\end{subsubsection}
\end{subsection}
\begin{subsection}{Places}
A place in \gametex{} is a namable thing that doesn't get a physical manifestation, though things like
items, signs, and other physical objects can be assigned to a place.  Common uses of places include:

\begin{itemize}
\item Places in the wider game world, such as nations or cities.
\item Places in the game space, such as the garden.  Signs and items would get assigned to this place if they should be put in the area of gamespace that represents the garden.  The signs would be labeled as assigned to the garden; 
the item cards would be printed on a page that says ``Garden,'' though they wouldn't mention that when cut out.
\item Abstract things in the game world, such as a year or decade.  (``In \lstinline|\pApocalypseYear{}|, everything changed when the \lstinline|\pFireNation{}| attacked.'')
\end{itemize}
\end{subsection}
\begin{subsection}{Signs}
Signs are precisely what they sound like.  \gametex{} supports signs in a variety of sizes, ranging from a full printed page to a tiny, deliberately hard-to-find size for players to search for.
Signs can have other game elements, such as items, greensheets, or whitesheets assigned to them, though signs cannot be nested.

Here are some example uses of signs.
\begin{itemize}
\item A description of what characters see when they look at a space.
\item A mechanic for something that can be done at a place: for example, a locked door, which can be smashed or lockpicked to access the room inside.
\item A fixed place for players to process a mechanic: for example, a spy for Atlantis might have be instructed to put their secret reports in the envelope attached to Sign K.
\item A publicly revealable piece of information that cannot be concealed, in contrast to whitesheets.
\end{itemize}

Here are some example sign definitions:
\begin{verbatim}
\NEW{Sign}{\sPrincess}{
  \s\MYname	{A Royal Suite}
  \s\MYloc	{Guest Rooms}
  \s\MYtext	{
		This is {\bf \cPrincess{}'s} private quarters.
		
		There are three ways to gain entrance to this bedroom:
		\begin{itemize}
		\item Be one of the people staying in this room. 
		\item Hit the door with a {\bf CR of 8} or greater.
		\item Pick the lock. This room has a lock difficulty of {\bf 2}. 
		\end{itemize}
		Once you have completed one of the above requirements, 
		put your hand on this sign for \textbf{2 minutes}. 
		(If the room is yours, you may bypass the wait time as well.) 
		Afterwards, you may lift the first sign and read what is underneath. 
		This represents going into the room and digging through 
		\cPrincess{}'s papers for something useful.
	}
  \s\MYitems {}
}
\NEW{Sign}{\sPrincessPapers}{
  \s\MYname	{Papers}
  \s\MYloc	{Princess Suite}
  \s\MYtext	{Among \cPrincess{}'s papers you find plans to betray \pEastNation{}.}
  \s\MYitems {\iInvasionPlans{}}
}
\end{verbatim}

\end{subsection}
\begin{subsection}{Bluesheets}
\end{subsection}
\begin{subsection}{Greensheets}
\end{subsection}
\begin{subsection}{Whitesheets}
\end{subsection}
\begin{subsection}{Power features}
\begin{subsubsection}{Abilities}
Abilities print ``cards'' that have a front and a back, with the front expected to contain full documentation about the ability, and the back containing the publicly visible effect of the ability.  This is not necessary for even all games with ``powers'' in the secrets-and-powers style, but is designed to allow metagaming resistance.  For example, when the effect of an ability is ``You believe what I'm saying,'' it can help the target of the ability to avoid metagaming if they cannot see whether the other side of the card says ``Use once per hour'' or ``Use when you are telling the perfect truth.''
\end{subsubsection}
\begin{subsubsection}{Mempackets and membooks}\label{mems}
\end{subsubsection}
\begin{subsubsection}{Notebooks}
\end{subsubsection}
\begin{subsubsection}{GMs}
\gametex{} generates goodies for GMs, which can be very handy.  GMs get their own special badges, and can even be assigned other game entities like abilities or greensheets.  This is most useful when the GM assigned to the puzzle room might be assigned a greensheet explaining how the puzzles work and what hints to give the players if they get stuck.  This avoids the risk of assigning that greensheet to the puzzle room itself, where it might get left by accident for a player to see.
\end{subsubsection}
\begin{subsubsection}{Sub-owners}
A sub-owner is like a suite of game entities that should all be given to a character together, which can be handy for keeping a group of characters in sync.  For example, you might have an MI6 agent sub-owner which contains a Walther P99 item, a license to kill whitesheet, and a ``call for resources'' greensheet describing the mechanic for getting additional assets from HQ.  You might then assign the MI6 agent sub-owner to both James Bond and Alec Trevelyan.  James and Alec could get additional sheets separately from each other, but if you wanted to modify what all MI6 agents got, you could do it in one place.
\end{subsubsection}
\end{subsection}
\end{section}
\begin{section}{Game production}
Game production, often called \emph{prod}, is the process of taking your game and getting it ready to run: generating character sheets for your players, printing all the documents needed for your game, and so on.

\begin{subsection}{Draft mode}
\label{draft}
\end{subsection}
\begin{subsection}{Runs}
One of \gametex{}'s key use cases is for games that run more than once, concurrently or sequentially.  You don't need to copy/paste different versions of each file for each run: this is supported natively by \gametex{}.

You will need to do these edits to \lstinline|LaTeX/game.cls| and these edits to \texttt{Lists/run$N$-LIST.tex}.  TODO.
\end{subsection}
\begin{subsection}{Badges}
\label{badges}
Go to \lstinline{LaTeX/gametex.sty} and find the line 
\begin{verbatim}
\newcommand{\NameBadge}[4]{%
\end{verbatim}
Do stuff there.  TODO: expand, maybe improve the default configuration to do better with pronouns.
\end{subsection}
\end{section}
\end{document}
