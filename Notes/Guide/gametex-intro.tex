\documentclass[sheet]{GameTexBase}
\usepackage[letterpaper, margin=1in]{geometry}
\usepackage{soul}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{tablefootnote}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{epstopdf}
%\newcommand{\gametex}{GameTeX}
\newcommand{\pronounfile}{\lstinline|Lists/char-LIST.tex|}

\lstset{basicstyle=\ttfamily}
\title{Guide to \gametex{}}
\author{Louis Wasserman}
\begin{document}
\maketitle{}
\setcounter{tocdepth}{2}
\tableofcontents
\begin{section}{Introduction}
\begin{subsection}{Abstract}
The goal of this document is to provide a general guide to the variant of \gametex{} used by the Luminary Roleplay Society, \lrstex{}, for LARP authors without a technical background -- ideally, who have no more experience in ``programming'' than spreadsheet formulas.  In particular, the hope is to enable you, a potential or active LARP author, to make a decision about whether \lrstex{} is a good fit for your game, and to learn how to use it and what features are available.

\end{subsection}
\begin{subsection}{History}
The Stanford computer science professor Donald Knuth, dissatisfied with the technology of 1977 for typesetting his book series \textit{The Art of Computer Programming}, built a programming language called TeX,
pronounced ``tech'' and sometimes stylized \TeX{}, for generating clean, readable versions of content that can include equations, programs, and more.  The special formatting of \TeX{} is 
meant to show off the sorts of unusual formatting that \TeX{} is capable of.
Leslie Lamport, in 1984, built an additional system atop \TeX{}, now called LaTeX (pronounced ``lah-tech" and sometimes stylized \LaTeX{}), that formalized what amounts to a standard for how these documents are written.  LaTeX has become overwhelmingly the standard for publishing research in many fields, including math, computer science, physics, statistics, engineering, and other fields.

Notably, many students in these fields have studied at the Massachusetts Institute for Technology, where the MIT Assassins' Guild has run LARP of various kinds since 1982.
As you might expect from MIT students, there was great interest in developing technological tools to facilitate LARP production, which Ken Clary developed into \gametex{} over the course of the 2000s.
MIT-style games of the time would be characterized today as secrets-and-powers litform games that almost always involved combat, especially with toy guns, though like other associated communities, the Assassins' Guild of today
has moved in a more narrative-oriented direction.
Clary's career in LARP authorship technology spans decades; here are the points I've been able to map:
\begin{enumerate}
\item Clary wrote a LARP written for a spring 1998 course ``Structure and Interpretation of Non-Linear and Interactive Narrative'' in bare HTML.  (Clary appears to have graduated MIT with a bachelor's degree in 2000.)
\item Clary co-wrote the September 2001 game  ``Reality Check III: Dinner at the Schloss Himmelbrand'', which still has publicly visible \LaTeX{}-produced documents.
\item ``GameTeX beta 2'' was used to write at least one game running in 2002, ``A New Deal,'' discussed by one of its authors Philip Tan in his 2003 \href{https://drive.google.com/file/d/1RiGc2OWtXIPlebHVrixv2IpAbSGAThtd/view?usp=sharing}{master's thesis} on the balance of mechanics in LARP design.\footnote{Tan would later become the creative director of the MIT Game Lab and is a research scientist there as of 2024.}
\item Clary stayed involved in the Assassin's Guild community, releasing \gametex{} version 1.0 in December of 2008.
\item Clary posted updates to \gametex{} as recently as December 2023, and remains involved in Boston-area LARP.
\end{enumerate}
More recently, MIT graduates experienced in Assassins' Guild traditions went to Stanford for grad school, and brought their traditions to the Stanford Gaming Society.  After members of the SGS graduated Stanford, they formed a nonprofit: the Luminary Roleplay Society.  I eventually began playing with the LRS and have edited several games for them, and now I am writing this for you.  Some of this document will be written in the first person as a result, including discussion of my own contributions.  There are many extant versions of \gametex{} as people have made their own modifications, but requested in the \gametex{} guidelines, the LRS has published its fork under a separate name, \lrstex{}.  This version includes a variety of modifications, mostly made by me, especially in an overhaul of the gender and pronoun system (see \ref{gender}) to reflect as much of the spectrum of gender as possible.  This guide will mostly apply equally well to other versions of \gametex{}, with some exceptions, such as that area.

If you take nothing else away from this section: \lrstex{} is some additions built on top of \gametex{}, which is some additions built on top of \LaTeX{}, which is some additions built on top of \TeX{}.
\end{subsection}
\begin{subsection}{Why use \gametex{}?}
\gametex{} takes advantage of the fact that \LaTeX{} is not \textit{simply} for writing technical papers, but is essentially a programming language for text and formatting in ways that are highly useful to LARP authors.
\gametex{} is primarily meant for ``litform'' LARPs, where game content is written by a team of authors instead of by players, but it'll all depend on what you need for your game.
Here are some key examples of things \gametex{} can handle for you:
\begin{itemize}
    \item During the writing process of a game, names of all sorts of things can change – not simply characters, but political entities, artifacts, magical powers, and more.  Keeping these all synchronized can be difficult.  (Covered in \ref{lists}.)
    \item When a game is run for different groups of people, not just character names but pronouns and gendered language can need to be changed.  A simple find/replace is often inadequate, especially when you run into conjugations like ``he was" versus ``they were."  (Gender in \ref{gender}, multiple runs in \ref{runs}.)
		\item When characters have secret identities, like Spider-Man's identity as Peter Parker, it's important to make sure the right characters know that individual under the right name.  (Covered in \ref{identities}.)
    \item Not all text should be immediately visible to the players holding the printed item.  \gametex{} can automatically print dotted lines for GMs to fold and staple shut secrets, with text on the outside describing when to open it.  (Covered in \ref{mems}.)
    \item Cross-references can ensure players have up-to-date indexes of the characters and players they know before game, as well as all the items and documents they should have access to.  GMs can have the same index cross-referenced the other way, with all secrets revealed.  Both of these help everyone make sure that nobody is missing something they need, or is in possession of secrets they shouldn't have.  (\gametex{} does this automatically.)
\end{itemize}
\gametex{}, while providing extensive support for MIT-style games, can be used for a much broader variety of games, and certainly has been by the Assassins' Guild, SGS, and LRS.  
\gametex{} is not the most intuitive system for game authors who don't have any experience with programming languages, but in exchange for learning to use it, \gametex{} can offer a huge number of features.

If any of the following describe the LARP you want to write, then I recommend strongly considering \gametex{}:
\begin{itemize}
\item Your game's character sheets and/or lore are prewritten by one or more game authors, with minimal pre-game player-generated content.
\item Your game will run multiple times, concurrently or sequentially, and different runs may require changes to character names/pronouns.
\item Your game involves significant mechanics, such as character powers, or secrets revealed to the characters under certain conditions -- out-of-character instructions that players will need to follow in their roleplay.
\item Your game is large, requiring the GMs to manage many printouts, each of which must go to the right player or place.
\item Your game will go through many rounds of editing, especially involving renaming things.
\end{itemize}

Importantly, \gametex{} gives you a reasonable default formatting designed to make a GM's life easy.  Character badges will automatically print at a readable font size, in cut-outs that will easily fit in a standard badge holder.  Printed game documents all indicate to whom they belong, or where in gamespace they belong, or for transferable elements like item cards, they will be printed on a page indicating where they should start game before they are cut out.  If your game has multiple runs, every document will indicate which one of those runs it was printed for.  These ubiquitous details in how a game is formatted and printed reflect the Assassins' Guild's decades of experience in LARP \emph{logistics}, producing (at least as of Tan's thesis) around a dozen games per year, almost all of which involved significant mechanics such as combat.
\end{subsection}
\end{section}
\begin{section}{Setting up the technology}
Unlike Google Docs or Microsoft Word, where you see what the document will look like as you write it, all variants of \TeX{} require you to edit raw text files -- almost all of which are \lstinline{.tex} files -- and \emph{compile} them into PDF files like the one you're reading now.  Most frequently, that process is broken up into two separate programs which you will need to install: the program that takes the \lstinline{.tex} files and turns them into PDFs, and a separate program which is used to edit the files.  You could use Notepad or any other extremely basic text editor for the purpose, but programs like TeXnicCenter for Windows provide nice features like highlighting \LaTeX{} commands, providing buttons to apply format (like bolding) to a particular block of text, and automatically scrolling to whatever place in your \lstinline{.tex} file is generating an error.
\begin{subsection}{Setting up \LaTeX{}}
Here are the steps to install both of those programs.

\begin{enumerate}
\item Begin by installing MikTeX.  Think of \LaTeX{} as a file format, and MikTeX as the program for taking files in that format and turning them into PDFs, etc.
\begin{enumerate}
\item Find a MikTeX distributable at \url{https://miktex.org/}.
\item You can install it just for the current user.
\item Make sure you allow installation of packages on the fly (with or without approval).
\end{enumerate}
\item For Windows, download and install TeXnicCenter (\url{https://www.texniccenter.org/}).  Think of TeXnicCenter as sort of like Word or Excel: a program for editing \LaTeX{} files.  If you're more familiar with software development, TeXnicCenter is your IDE.
\item If this is your first time using \gametex{}:
\begin{enumerate}
\item Open up TeXnicCenter.
\item Navigate to the “Build” menu, and select “Define Output Profile”
\item Name the profile “GameTeX”
\item Set the “source” path to \texttt{/miktex/miktex/bin/x64/pdflatex.exe} (or whatever matches wherever you installed MikTeX on your computer.)   
\item In the next text box, “commands to compiler”, add the following:
\begin{verbatim}
-interaction=nonstopmode "%pm" -enable-write18
\end{verbatim}
% This is specific to TeXnicCenter.
\item \label{includedir} Add a space after that, and then: 
\begin{verbatim}
-include-directory="<path to LaTeX folder of game>"
\end{verbatim}
For example, on my computer, this is
\begin{verbatim}
-include-directory="C:\Users\self\Documents\GitHub\MyLARP\LaTeX"
\end{verbatim}
\end{enumerate}
\item If this is not your first time using \gametex{}, repeat step \ref{includedir} for your new project.  You should not have to delete the \lstinline|-include-directory| for your previous project.
\end{enumerate}
TODO: integrate this with the whole ``downloading the project'' part.  Maybe reorder?
\end{subsection}
\begin{subsection}{Git and version control}
In this section, we will discuss an overview of version control as applied to games.  Excellent tutorials for the Git software exist elsewhere, and we will defer to those to actually teach you how to use Git.

Version control is a technology that exists in the space between the ``version2\_final\_edited\_definitely\_final.doc'' common when contributors must email versions back and forth, and a technology like Google Docs that keeps documents instantly synchronized even with multiple people typing in the same document at the same time.

It is quite possible to use \gametex{} without using version control.  If you are writing a game on your own, it is almost completely unnecessary.  However, you may be aware that the synchronization technology in Google Docs and related apps only work for the specific kinds of files they're designed for.  You can dump your \lstinline|.tex| files in Google Docs and edit them there, and many LARP authors who use \gametex{} do this at some point in the process, especially with teams where some members are less comfortable with \gametex{}.  I am writing this sentence right now in a Google Doc, in fact.  However, you, and I, will have to copy them back into a \texttt{.tex} file on our computers, and compile them to first make sure they work, and then to produce a document others can read, all of which can be inconvenient and can run into all the usual problems with managing two versions of something that aren't automatically synchronized.

Another important aspect of version control is that it manages versioning for an entire file folder on your computer.  Emailing versions of one file back and forth is one thing, but emailing back and forth versions of two -- or more -- files that must be kept in sync is truly a nightmare, and \gametex{} will require you to manage that level of synchronization.

We've already discussed that \TeX{} is a programming language, however, and programmers have developed many solutions to synchronizing work between multiple people working on software projects.  Most \gametex{} projects (in my experience) simply use what is by far the most popular version control software, in use by 95\% of programmers according to Wikipedia: Git.

Once you have set Git up -- which will be explained in the Git tutorial and in the following section -- the usual workflow looks like this:
\begin{enumerate}
\item Each game writer has a copy of the game in progress on their computer.
\item They edit it on their computer.
\item They mark their changes as ``committed" on their computer, usually adding some single sentence explanation of what was changed.
\item They \textit{pull} the latest ``master" version from some shared website, usually GitHub.  
\item If there are any conflicts – for example, if one author deleted a paragraph, and another author edited it – the writer making the new change decides how to reconcile the conflicting changes.  Git edits the file to show the two conflicting versions next to each other, so you can see what happened.
\item If there were any conflicts, the writer commits the reconciled version on their computer, in what is called a \textit{merge}.
\item The writer uploads the combined changes to the master version, in what is called a \textit{push}.
\end{enumerate}

There are variations on this process -- it's often a good idea to pull frequently to address conflicts before they get too big, and you may not bother to push for several commits -- but it always looks more or less like this workflow.

It's worth at least mentioning a feature of Git that is very important to software engineers, although it's rarely useful to LARP authors: the ability to track the exact history of something, when it was added and by who, and the ability to return to the earlier version.  In software, going back to the last version that wasn't buggy can be critical; in LARP writing, not so much, with one major exception.  If you deleted something you shouldn't have, even a whole file, Git can recover it as of the last commit.  Commit often!

\begin{subsubsection}{GitHub}
GitHub is a commonly used, free website to store repositories, including games, so multiple authors can access them.

GitHub repositories are public to the world by default.  This has never been an issue in the past to my knowledge, but for a sufficiently large or well-advertised game, it is at least possible that a Google search might lead a player to the game as it is being written.  To avert this, you will need to create private repositories, and ensure your entire author team has GitHub accounts that have permissions to access the game repository.

GitHub's documentation on both itself and Git are superb, and can be found at \url{https://docs.github.com/en/get-started}.  GitHub offers the program GitHub Desktop to manage Git repositories on your computer without dealing with the command line, which is likely only comfortable for experienced programmers to use.  We recommend reading GitHub's documentation and installing GitHub Desktop.
\end{subsubsection}
\end{subsection}
\begin{subsection}{Setting up your \gametex{} folder}
You will need to do the following steps.  TODO: document this better.
\begin{enumerate}
\item Download the contents of this repository to an appropriately named folder.
\item Set up a Git repository in this folder, and do a first commit.
\item Rename \lstinline|LaTeX/GameTexBase.cls| to the matching name for your game.
\item TODO: set up the path file.
\item Create \lstinline|LaTeX/MyGame_path.cls|, and write in it:
\begin{verbatim}
\edef\gamepath{"C:/Path/To/MyGame/"}
\end{verbatim}
substituting the appropriate directory.
\item As you write or update files, make sure they begin with
\begin{verbatim}
\documentclass[something]{MyGame}
\end{verbatim}
and not
\begin{verbatim}
\documentclass[something]{GameTexBase}
\end{verbatim}
\item Update the gamewide settings (e.g. game name and date) in \lstinline|LaTeX/MyGame.cls|.
\item Commit your game.
\end{enumerate}
At this point, you are ready to start writing; you may want to push your repository to GitHub.
\end{subsection}
\end{section}
\begin{section}{Writing Game Content}
Now, we'll get to the good stuff: actually writing your game.  This is, of course, supposed to be the fun part, and is certainly what most GMs spend the most time on.

\begin{subsection}{Basic \gametex{} Text}
Let's finally discuss what you'll be typing when you write the body of your game.
A typical line in a \gametex{} character sheet might look like:
\begin{verbatim}
Your father was killed by a six-fingered \cSixFinger{\person}.  
You have sworn vengeance on \cSixFinger{\them}.
\end{verbatim}

When we generate the PDF for the game, if the six-fingered character uses she/her pronouns, this will become:

\begin{quote}
Your father was killed by a six-fingered woman.  You have sworn vengeance on her.
\end{quote}
Let's go through how this works.

First, \lstinline{\cSixFinger} is a reference to a character, the six-fingered individual.  In \TeX{}, the backslash indicates the beginning of a command, with \lstinline|{}| around any arguments being passed to that command, just like spreadsheets might have \texttt{SUM(A1, B2)}.  Capitalization matters!  In \gametex{}, conventionally, named things like characters are given an associated command, beginning with a lowercase letter corresponding to the type of thing: \lstinline{c} for character, \lstinline{i} for item, \lstinline{p} for place, and so on.  Additionally, not putting anything in the \lstinline|{}| simply outputs the name of the thing, so: 
\begin{verbatim}
\cCharacter{} was born and raised in \pNation{}.
Every resident is given a \iBirthCertificate{} at birth.
Check your \bNationPolitics{} sheet for details.
\end{verbatim}

Players don't get to see these commands (unless you have a typo), so you can name things whatever is most memorable for you as an author, even if it involves spoilers: feel free to create \lstinline|\cAssassin|, who is known to most characters as the team mom who makes tea for everyone, or for \lstinline{\cRapunzel} to represent the character with magical hair.  If you accidentally wrote \lstinline{cRapunzel} instead of \lstinline{\cRapunzel}, however, the players would see that -- so check your generated sheets!

Next, \lstinline{\person} and \lstinline{\them} are special \gametex{} commands that substitute different phrasing depending on the character's pronouns, which we'll discuss in \ref{gender}.

Note that characters, items, places, and more can be written in the game without actually having corresponding sheets.  This can be handy to manage things like NPCs, artifacts, and locations that are part of the lore.  For example, you might decide to write 
\begin{verbatim}
Your \cMissingParent{\parent} was murdered.
\end{verbatim}
instead of 
\begin{verbatim}
Your father was murdered.
\end{verbatim}
even if \lstinline|\cMissingParent| is only present in the game's lore.

When is this worth it?  Most likely, it's of use if you think it might get changed later.  For example, if someone is playing the \emph{surviving} parent, you may wish the missing parent's gender to be an appropriate partner for that character.  Anything you think you might change later, like the name of an artifact, a nation, a character's name or pronouns, might be worth creating a corresponding item, place, or character in \gametex{} so you can just reference it.

%% Put \me somewhere?
\end{subsection}
\begin{subsection}{Gender, pronouns, and conjugation}
\label{gender}
English references gender in many common words, and they/them pronouns often require different conjugation for verbs.  \gametex{} provides special support for character gender, using commands that substitute different versions of text based on a character's gender.  This is not perfect, and it's easy to get wrong by accident.  It's always a pain to find you've accidentally written ``He believe you're alive" or other grammatical errors.  However, many GMs find it's still preferable to trying to do find/replace shenanigans when a player gets recast or a game gets rerun with players who want to play different genders.  This is especially true when there are references to a character's gender without the character's name, such as the ``six-fingered woman'' above; you would have to manually search for each reference, and remember which character is being referred to by each gendered word or pronoun.  I have found it becomes more natural with practice to use \gametex{}'s features for gender and conjugation.

Many players, even those with complex experiences of gender, are willing to play characters with a simpler experience of gender.  However, it seemed desirable to give GMs as many options as possible:
\begin{itemize}
\item Some players may be uncomfortable being placed into a gender binary.
\item Conversely, some players are not thrilled about every character being referred to with ``they'' pronouns, which can erase impactful gender experiences.
\item Roleplay is a well-known tool for players to explore the possibilities of gender.
\item Some games may involve characters and beings who do not match human binary concepts of gender.\footnote{I have just been involved in co-writing a pixie-themed game where we should not, in retrospect, have been surprised by fae/faer pronoun requests.}
\end{itemize}

\lrstex{} has a completely overhauled system of gender from \gametex{}, which attempts to capture as much of the spectrum of gender as possible within the limitations of the software, and what game authors in a rush to recast a character can reasonably check.  If you or your players are dissatisfied by these restrictions, you as a game author can always manually write the appropriate words and pronouns, but we hope that will very rarely be necessary.

The most important simplifying assumption made by \lrstex{} is that, other than introducing the character's pronouns directly, the same pronoun set is always used in every reference to the character.  Genderfluid characters, for example, are always referred to as ``they'' regardless of context.  When a character has ``slashed'' pronouns like he/they, these by default only use the pronoun set before the slash.  This seemed like the best compromise for minimizing problems such as ``it is suddenly ambiguous which pronoun refers to who in a sentence'' and ``well, the prophecy references an individual who switches pronouns halfway through, it's not hard to guess that that's the one genderfluid character.''  (\latex{} doesn't give any way to e.g. at least use the same pronouns through one full sentence, or through one full paragraph, or that would be worth trying.)

Other gendered assumptions are set up by default, but are overridable, as we'll discuss.  For example, every character that is neither a he/something or a she/something is by default referred to as ``Monarch,'' not ``King'' or ``Queen.''

\begin{subsubsection}{Pronoun system}
The pronoun system is defined at the beginning of \lstinline|Lists/char-LIST.tex|.  It should be able to handle the overwhelming majority of character gender experiences, but it is specifically designed to be easy to customize.
In this section, we'll break down the code so you know how to customize it if desired.

\begin{enumerate}
\item Definitions of commands to configure gender and commands for conjugating verbs for singular or plural pronouns.
\item Definition of potentially gendered words and their non-gender-specific defaults in \lstinline|\genderednoundefaults|.  For example,
\begin{verbatim}
\def\sibling{sibling}
\end{verbatim}
defines the command \lstinline|\sibling| and sets it to simply be ``sibling'' by default.  Note that capitalized and uncapitalized nouns need to be declared separately, e.g. both \lstinline|\monarch| and \lstinline|\Monarch|.
\item Definitions of ``baseline'' pronoun sets, which define the pronouns themselves, and where appropriate, override the definition of gendered words.  For example, in the definition of \lstinline|\hehim| pronouns,
\begin{verbatim}
\def\sibling{brother}
\end{verbatim}
declares that ``brother'' should be used instead of ``sibling'' for he/him characters.
\item Declarations of ``mixed'' pronoun sets as aliases of other pronoun sets, except when used in character introductions, e.g.
\begin{verbatim}
\genderpronounsmod{\hethey}{he/they}{\hehim}
\end{verbatim}
\end{enumerate}

Here is the complete set of built-in pronoun sets.

\begin{center}
\begin{tabular}{c|c|c}
\textbf{Command} & \textbf{Described pronouns} & \textbf{In a sentence} \\
\lstinline|\hehim| & he/him & he \\
\lstinline|\sheher| & she/her & she \\
\lstinline|\theythem| & they/them & they \\
\lstinline|\zezir| & ze/zir & ze \\
\lstinline|\faefaer| & fae/faer & fae \\
\lstinline|\eyem| & ey/em & ey \\
\lstinline|\itits| & it/its & it \\
\lstinline|\avoidpronouns| & avoid pronouns & character's name\\
\lstinline|\hethey| & he/they & he \\
\lstinline|\theyhe| & they/he & they \\
\lstinline|\shethey| & she/they & she \\
\lstinline|\theyshe| & they/she & they \\
\lstinline|\anypronouns| & any pronouns & they \\
\lstinline|\genderfluid| & genderfluid & they
\end{tabular}
\end{center}
\end{subsubsection}
\begin{subsubsection}{Adding and modifying pronouns}
\lrstex{} only defines a few pronoun combinations this way, but it is trivial to add more.  You can do this by following the pattern in other pronoun definitions.  For example, here is the complete definition for they/them pronouns:
\begin{verbatim}
\pluralgenderpronouns{\theythem}{they/them}{
	\def\they{they}
	\def\They{They}
	\def\them{them}
	\def\Them{Them}
	\def\their{their}
	\def\Their{Their}
	\def\theirs{theirs}
	\def\themself{themself}
	\def\Themself{Themself}
}
\end{verbatim}
Note that we use \lstinline|\pluralgenderpronouns| or \lstinline|\singulargenderpronouns| to define the conjugation of verbs, and then define capitalized and uncapitalized pronoun forms.

In addition to declaring new ``mixed'' pronoun sets as described above, you can create modified pronoun/gender commands which are like another pronoun set except with some additional customizations.  For example,
\begin{verbatim}
\genderpronounsmod{\hebutnotaman}{he/him}{
  \hehim
  \def\person{person}
}
\end{verbatim}
defines \lstinline|\hebutnotaman| to be equivalent to he/him except that it uses ``person'' instead of ``man.''
\end{subsubsection}
\begin{subsubsection}{Adding new gendered nouns}
\lrstex{} includes a variety of predefined gendered nouns, e.g. \lstinline|\Monarch|, which becomes ``King'' for he/him characters and ``Queen'' for she/her characters.  We won't list them all in this documentation, but you can easily find the list by finding the definition of \lstinline|\genderednoundefaults| in \lstinline|Lists/char-LIST.tex|.

Of course, we cannot include every gendered noun in the English language, but it is easy to add more if your game requires them.

To add new gendered nouns, first define the default in the definition of \lstinline|\genderednoundefaults|.  Suppose we wanted to add a command for ``bro'' or ``sis,'' and we decided the appropriate gender-neutral version was ``sib.''
We would add the line
\begin{verbatim}
\def\sib{sib}
\end{verbatim}
in \lstinline|\genderednoundefaults|.  Then, we would go to the definition of \lstinline|\hehim| and add the line
\begin{verbatim}
\def\sib{bro}
\end{verbatim}
with all the other gendered terms -- order doesn't matter -- and then do the same for \lstinline|\sheher| and ``sis.''

There is nothing special about \lstinline|\hehim| and \lstinline|\sheher| in this respect.  If, for example, the gender-neutral version of a word is the same as the version for he/him -- common for ``ess'' words like actor/actress -- you wouldn't have to add anything to \lstinline|\hehim|, only \lstinline|\sheher|.
\end{subsubsection}
\begin{subsubsection}{Writing gendered text}

We will discuss how to assign these gender settings to characters in section \ref{charlist}.  The ``described pronouns'' are included in special references to the character discussed in \ref{charintro}.
Titles like Mr. and Mx. run into the awkwardness of the Ms./Mrs. distinction in English.  As a result, those are best handled as titles like Dr., addressed in \ref{charintro}.

Here is an example of game text using several gender-sensitive commands:

\begin{verbatim}
\cCharacter{\intro} is your \cCharacter{\sibling}.
\cCharacter{\They \have} always wanted to be the
\cCharacter{\Majesty} of \pNation{}.  
\cCharacter{\They\re} also madly in love with 
\cCharacter{\their} \cPartner{\spouse}, \cPartner{}, the 
\cPartner{\offspring} of \cInLaw{}. \cCharacter{} 
\cCharacter{believe\verbs} in the religion of the Fire
\cFireGod{\cDeity} \cFireGod{}, and \cCharacter{hope\verbs}
to become \cFireGod{\their} \cCharacter{\cleric}.
\end{verbatim} 

This might render as:

\begin{quote}
Sam Solo (she/they) is your sister.  She has always wanted to be the Queen of Oz.  She's also madly in love with her spouse, Chell, the offspring of Maximilian.  Sam believes in the religion of the Fire God Helio, and hopes to become his priestess.
\end{quote}

(The use of \lstinline|\intro| is new, and we'll discuss it in \ref{charintro}.)

Note that you can cheat by putting multiple commands in the same set of braces, as long as everything is referring to the same character; this pattern is used in \lstinline|\cCharacter{\They \have}|.  You could technically put entire sentences in these braces, but this can be awkward when sentences refer to multiple characters.
\end{subsubsection}
\begin{subsubsection}{Conjugation}
We have already discussed the commands for pronouns and gendered nouns, but here are the commands for verb conjugation:

\begin{center}
\begin{tabular}{c|c|c}
\textbf{Singular} & \textbf{Plural} & \lrstex{} command\\
he believes & they believe & \lstinline|\cCharacter{\they believe\verbs}| \\
he worries & they worry & \lstinline|\cCharacter{\they worr\verby}| \\
he goes & they go & \lstinline|\cCharacter{\they go\verbes}| \\
he is & they are & \lstinline|\cCharacter{\they \are}| \\
he has & they have & \lstinline|\cCharacter{\they \have}| \\
he was & they were & \lstinline|\cCharacter{\they \were}| \\
he's happy & they're happy & \lstinline|\cCharacter{\they\re} happy|
\end{tabular}
\end{center}
\end{subsubsection}
\end{subsection}
\begin{subsection}{Character References, Titles, and Contacts}
\label{charintro}
\label{charcontacts}

Different characters will often be referred to in different ways, sometimes even at different points within the same sheet.  Consider the following:

\begin{quote}
Dr. Everett Scott (he/him) is quite pretentious, and few character sheets would refer to him as Everett -- only Dr. Scott.  Janet Weiss (she/they), however, is a more casual figure, and few characters even remember her last name -- she is almost always referred to as Janet.

\begin{itemz}[Contacts]
\item Janet Weiss (she/they), played by Sue Awesomecostume (they/them): Your fianc\'ee.
\end{itemz}
\end{quote}

\gametex{} goes to a great deal of trouble to support these variations without GMs having to think about the proper version of every reference to every character.  \textbf{The instructions for how to do these things are in \texttt{Extras/README-namemappings.txt}.}

In general, references to \lstinline|\cCharacter{}| are equivalent to \lstinline|\cCharacter{\usual}|, which by default use a character's first name.  References to \lstinline|\cCharacter{\full}| use a character's full name, including titles; \lstinline|\cCharacter{\formal}| use a short but formal form like ``Dr. Scott.''   If you want to refer to a character informally, regardless of how formal they are normally, use \lstinline|\cCharacter{\informal}|.  (For example, this would refer to Dr. Scott as Everett.)
The first reference to a character in a character sheet should usually be \lstinline|\cCharacter{\intro}|, which uses a character's full name and includes their full set of pronouns (\ref{gender}).

\gametex{} additionally has a special way to arrange character contacts on a character sheet: a special \lstinline|contacts| block.  The following \gametex{} code would be what you'd write for the above example.
\begin{verbatim}
\cDocScott{\intro} is quite pretentious, and few character sheets would refer
to \cDocScott{\them} as \cDocScott{\informal} -- only \cDocScott{}.
\cJanet{\intro}, however, is a more casual figure, and few characters even
remember \cJanet{\their} last name -- \cJanet{\they \are} almost always
referred to as \cJanet{}.

\begin{contacts}
  \contact{\cJanet{}} Your \cJanet{\betrothed}.
\end{contacts}
\end{verbatim}
\end{subsection}
\begin{subsection}{\LaTeX{} Formatting}
LaTeX arranges its formatting in some specific ways you might not be used to.

We recommend starting by reading \href{https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes#Adding_comments}{this guide} to basic \LaTeX{} starting there and going all the way down, skipping the sections on math.
This includes things like how to do paragraphs, bold and italic fonts, tables, and lists.

There are some special additional considerations and options for \gametex{}, which we will discuss.

An important note here is that Git merges files line-by-line, so if you have multiple sentences on the same line of the file, and one game writer changes one sentence, and another writer changes a different sentence, they will still have to manually resolve the conflict when they merge.  As a result, it's technically a little easier if you actually put each sentence on its own line of the file.  That said, I don't know any author who actually bothers to do this, myself included; it just feels weird to have sentences on their own lines.

\begin{subsubsection}{Special symbols}
Curly quotes are a little weird: you must use tildes for the left side, and it's conventional to use two single quotes for the right side, although you can use a double quote.  A standard version: \lstinline{``text in quotes''} produces ``text in quotes''.

Some characters have special meaning in \LaTeX{}, and you need special commands to make them appear correctly:

\begin{center}
\begin{tabular}{c c}
 \textbf{Symbol} & \textbf{Command} \\
 \& & \lstinline|\&| \\
 \$ & \lstinline|\$| \\
 \{ & \lstinline|\{| \\
 \} & \lstinline|\}| \\
 \% & \lstinline|\%| \\
 \# & \lstinline|\#| \\
 \_ & \lstinline|\_| \\
 \^{} & \lstinline|\^{}| \\
 \textless & \lstinline|\textless{}| \\
 \textgreater & \lstinline|\textgreater{}| \\
 \textbackslash & \lstinline|\textbackslash{}|
\end{tabular}
\end{center}
\end{subsubsection}
\begin{subsubsection}{Comments}
\% signs, in \LaTeX{}, mark \textit{comments}: whatever comes after a \% on the same line of your \texttt{.tex} file will not output.  This can be very handy when editing a draft or leaving notes to yourself.
This can be handy as a game author to leave notes to yourself:
\begin{verbatim}
% TODO say why we want the Vizier dead
\end{verbatim}
In many built-in files in \gametex{}, you will see documentation and explanations about how to do things in comment lines.  Remember, you can copy and paste example code from these comments, but you will need to delete the \% to make them actually do anything.

If you want notes to yourself as game authors to be visible when you do editing work, see \ref{draft}.
\end{subsubsection}

\begin{subsubsection}{\gametex{} Lists}

\gametex{} introduces some additional, more compactly formatted versions of various kinds of lists, including optional labels for the lists.

\begin{verbatim}
\begin{itemz} % we could put [Rumors] here to name the list, but we don't have to
\item Rumor 1
\item Rumor 2
\end{itemz}
\begin{enum}[Priorities]
\item Priority 1
\item Priority 2
\end{enum}
\begin{desc}[Reasons]
\item[Pro.] A good reason.
\item[Con.] A bad reason.
\end{desc}
\end{verbatim}
compiles to 

\begin{itemz} % we could put [Rumors] here to name the list, but we don't have to
\item Rumor 1
\item Rumor 2
\end{itemz}
\begin{enum}[Priorities]
\item Priority 1
\item Priority 2
\end{enum}
\begin{desc}[Reasons]
\item[Pro.] A good reason.
\item[Con.] A bad reason.
\end{desc}
\end{subsubsection}
\end{subsection}
\end{section}
\begin{section}{Files and organization}
\begin{subsection}{Special Terminology in \gametex{}}
When you look at your \gametex{} folder, you may see folders named \texttt{Greensheets} and other terms you might not have heard before.  \gametex{} uses certain conventions of the MIT Assassins' Guild for terminology around the various things that go into a game.  Some of these terms are fairly universal and unsurprising, such as \textit{abilities, stats, charsheets}, and more.  Here are some terms that are not universal among LARP communities that are important to how \gametex{} organizes things.
\begin{itemize}
    \item A \textit{bluesheet}\footnote{The distinction of bluesheets and greensheets dates quite far back.  I have not seen the original document, but Philip Tan's thesis cites Leah M. Bateman's 1990 thesis on the Assassins' Guild as referencing this distinction as present at the \emph{Harvard} Society for Interactive Literature.} (\ref{sheets}) -- traditionally printed on blue paper -- contains in-universe lore.  Some bluesheets might contain lore known by all players, such as a history of global politics, and some might contain lore that only some characters know, such as the secret history of the Sorcerers' Guild.  Bluesheets are never transferable and are given to players to learn about the world before the game begins.
    \item A \textit{greensheet} (\ref{sheets}) -- traditionally printed on green paper -- describes particular mechanics from an out-of-game perspective.  For example, a ritual requiring preparation over the course of all of game likely has an associated greensheet describing the preparation steps.  Greensheets are not transferable between characters, but might be unlocked midgame by finding a place, joining a faction, or gaining a power.
    \item A \textit{whitesheet} (\ref{sheets}) is an \emph{in-universe} document.  For example, a whitesheet might be a blank page to write a treaty, with spaces for each faction's representatives to sign.  Alternately, a whitesheet might contain the secrets of a book buried in the library, which a character could steal and hide if they don't want that information public.
    \item A \textit{mempacket} (\ref{mems}) is some secret information, in or out of character, that is only opened under certain conditions.  Some LARP communities call these ``contingency envelopes.''  
For example, you might have a mempacket whose outside says: ``Open after speaking to Count Rugen for a minute.'' The inside might reveal: ``He tries to hide it, but he has six fingers on his right hand.''  Mempackets are named for their frequent use as unlockable memories of a character's past.
    \item A \textit{membook} (\ref{mems}) is an unordered collection of mempackets, all stapled together as one thing to carry.  For example, a character who can predict the future of many other characters might have a page in their membook for each one.
    \item A \textit{notebook} (\ref{notebooks}) is like an ordered sequence of mempackets, all stapled together as one thing, usually reflecting a chain of dependent tasks.  For example, a notebook might say things like ``At the beginning of the game, open the first page,'' with the first page revealing ``You feel that tonight you will find who slew your father!  Look around until you find a six-fingered man, and then open page 2,'' and so on.  Notebooks are named to evoke the term ``research notebook,'' a common use case for a character trying to solve a mystery by completing a sequence of investigations.
\end{itemize}

Pick and choose the types of elements needed for your game.  Each of these features are optional, and many reflect the competitive style of the tradition they come from, including active attempts to fight metagaming.  While it can be tempting to use all of \gametex{}'s bells and whistles, keep in mind the sort of game you're writing and the audience you're writing for.
\end{subsection}
\begin{subsection}{Lists}
\label{lists}
The core setup of a game is in the files in the \lstinline{Lists} directory: \lstinline{char-LIST.tex} and so on.
While you will have separate files for character sheets and other things that take a page or more, \gametex{} requires you to define all your items, characters, places, signs, and so on in these list files.
For elements that don't take a full page, this is all you need -- there is no \texttt{Items} directory; you define all your items in \lstinline{item-LIST.tex}.

These files, and the \lstinline{Lists} directory, have solid documentation, with a good overview in \texttt{Lists/README.txt}.  This guide will just provide a high-level overview, including some game design considerations to keep in mind.

Each of these files already has examples of what to put in them -- example characters, mempackets, and so on.  These are also easier to copy and paste than anything I could put in this document.
However, it'll be useful to review them, and to discuss all the options they offer.

Importantly, the information in the \lstinline{xxxx-LIST.tex} files is the only information that is usable for cross-references between files, including references to the names of characters, items, abilities, and so on.

\begin{figure}
\centering
\includegraphics[width=2in]{charsheet-crossref}
\caption{Cross-references on a character sheet for which documents a player should have.}
\end{figure}

You can print individual documents with their own sheets by compiling them individually: when working on \lstinline|Charsheets/king.tex|, you can compile that directly.  If you want to print more than one document, or documents smaller than individual sheets such as item cards, you will need to follow the instructions on production in \ref{prod}.

Importantly, not all documents or cards print automatically.  This is deliberate, so ``test items'' are not included in your game.  \textbf{Each sign, item, bluesheet, greensheet, whitesheet, mempacket, and ability must be assigned to a character, place, or GM to be printed.}
This can be recursive, however: an item can be assigned to a sign which can be assigned to a place.  
\end{subsection}
\begin{subsection}{Characters}
\label{charlist}
The list of characters will go in \lstinline|Lists/char-LIST.tex|.  This file begins with the pronoun system, but then, eventually, the line
\begin{verbatim}
%%%%%%%%%%%%% The PCs %%%%%%%%%%%%%%%
\end{verbatim}

This is where your player characters will go.  The file has an example character definition that is conveniently copy/pastable, which we will briefly review:
\begin{verbatim}
\NEW{PC}{\cTest}{
  \s\MYname	{John Doe} % character name
  \s\MYfile {MyCharSheet.tex} % a file name from the Charsheets directory
  \s\MYdesc	{a nondescript person}  % short description to fit on a badge
  \hethey												% configures pronouns
  \s\MYnumber{1234}						% badge number, if used
  \s\MYplayer {Coolest Roleplayer} % player name
  \s\MYplayerpronouns{they/them} % player pronouns
  \s\MYblues {}								% assigned bluesheets
  \s\MYgreens {}							% assigned greensheets
  \s\MYwhites {}							% assigned whitesheets
  \s\MYmems {}								% assigned mempackets
  \s\MYabils {}								% assigned abilities
  \s\MYitems {}								% assigned items
}
\end{verbatim}
If one or more of these is not relevant to your game, you can simply leave it out -- you don't have to leave the blank version there.

Note that character pronouns and player pronouns are handled differently: character pronouns must use a specific pronoun command, but player pronouns can (and must) be freeform text.

The character description should be a short phrase describing what others see when they look at the character.  This gets printed on their badge (\ref{badges}).

Here are some guidelines to remember when writing character sheets:
\begin{itemize}
\item \lstinline|\me| is a shorthand for the character who you're writing the sheet for.  You don't need to write \lstinline|\cLongCharacterName| when writing that character's sheet.
\item Use \lstinline|\cCharacter{\intro}| the first time you introduce a character, to include their full name and pronouns.
\item Use the contacts code demonstrated in \ref{charcontacts} to list out other important characters.  This includes not only the character's full name and pronouns, but the corresponding player's full name and pronouns.
\end{itemize}
\begin{subsubsection}{Stats}
Characters can get assigned statistics, which can be numbers or short bits of text.  Statistics are private information, printed on character sheets (and sometimes hidden on badges).  To create a statistic for your characters, read the instructions in \lstinline|Lists/char-LIST.tex| under ``Character stats'', which shows how to introduce a ``hit points'' stat.

One nonobvious use of statistics is to create statistics with obscure names -- traditionally Greek letters like $\alpha$ (which is written \lstinline|$\alpha$|) -- for game design reasons.  Philip Tan's thesis:
\begin{quote}
For instance, a player may have a positive $\psi$ stat without realizing that his
or her character is a latent psychic. Another, better-informed character might be able to
read someone else’s $\psi$ stat and detect the psychic ability of others.
\end{quote}
Not all games may expect their players to confidently identify Greek letters, so English letters may be preferable for some games.

If you introduce any stats into your game, they will be shown on the character sheet.  

Additionally, in production (\ref{prod}), you can, if you desire, print out \emph{stat cards} for each character.  This will produce extra cards for each character, which usually get tucked inside their badge.  As many games with combat mechanics include stats, the back of this card includes a Death Report section for players to fill out and give to GMs on their character's death.  This is mostly useful if you have a game with many stats and lots of combat: many players in games with just one or two stats prefer to look them up on their character sheets, and it can be difficult in practice to get players to fill out death reports.
\end{subsubsection}
\begin{subsubsection}{Numbers}
\label{charnumber}
Characters may optionally be assigned numbers, which appear on their badges (see \ref{badges}). Because badge numbers are only readable by getting close enough to a character to read their badge,
they are most often used for mechanics where some or all characters can learn something about another character by speaking to them or spending time near them.  Here are some illustrative examples:
\begin{itemize}
\item I recognize character 239's voice as my father's murderer.
\item As an experienced undead hunter, I recognize characters with a last digit of 4 as vampires.
\item The first digit of each badge number represents the tens digit of the character's apparent age, so despite character 173 acting suspiciously, they couldn't have murdered the king 25 years ago.  (This convention definitely dates back decades and is cited directly in Tan's 2003 thesis.)
\end{itemize}

At a game design level, using this sort of mechanic makes players spend time searching for the character or characters they seek without knowing exactly who to talk to in advance.  For example, imagine Inigo Montoya was given a
mempacket (\ref{mems}) whose outside said, ``Open if you speak to Count Rugen for one minute.''  Inigo's player might find it hard to resist seeking out the Count Rugen character as the first thing they did in game, and might learn that Rugen has six fingers in the first few minutes.  If instead Inigo's mempacket specified character 239, Inigo would have to spend time walking around and getting to know people, and might feel like they get to discover Rugen more organically.

To assign a character's number, use \lstinline|\s\MYnumber{123}| (or whatever number you are giving them) in their character definition in \lstinline|char-LIST.tex|.
To reference another character's number, as in ``my father's murderer'', use \lstinline|\cCharacter{\MYnumber}|.
\end{subsubsection}
\begin{subsubsection}{Identities}
\label{identities}
\gametex{} has extremely good support for characters with layered identities.  Some examples include:
\begin{itemize}
\item Thomas is known to his closest friends as Tommy, and their character sheets all refer to him as such.
\item Peter Parker gets three badges: one under the name Peter Parker describing him as a teenager, one under the name Peter Parker that describes him as a press photographer (that might get him access to crime scenes), and one for the name Spider-Man.
\item Everyone knows Ella as Sandy, and Glinda has magically compelled her not to reveal her true identity.  Only those two characters know Ella's correct name.
\end{itemize}
All these are done as ``overlays'' to the character, so references to Spider-Man automatically use Peter's pronouns, for example, without additional work.

To use these features, read the documentation in \lstinline|Extras/README-identity.txt|.
\end{subsubsection}
\end{subsection}
\begin{subsection}{Items}
Items in \gametex{} represent physical objects in the game world which can be moved.  This aspect is important: all items are marked as \textbf{Transferable} on their printouts.
Printed \gametex{} items can be represented by simple cards, labels attached to props, or even labels on envelopes when items can contain other items or game elements.

\begin{desc}[Types of Items]
\item[Item] A standard item, with its own standard card size.\footnote{Oversized cards are allowed but report a warning.}
\item[ItemPacket] A small item label to be pasted on the outside of an envelope or the like.
\item[ItemFold] A ``fold along the dotted lines'' item with a publicly visible outside, that can be torn open to reveal a secret inside.
\item[ItemLabel] A small item label to be attached to a prop/physrep.
\end{desc}

Note that the primary difference between, say, an \lstinline|ItemFold| and a mempacket (\ref{mems}) is whether there is a physical, movable object (which should be an item), or an abstract instruction or piece of information for a player (a mempacket).  An \lstinline|ItemFold| could be used for an apple, which when eaten could either be tasty or poisoned.
\begin{figure}
\centering
\includegraphics[width=3in]{item-card}
\caption{A standard \lstinline|Item| card, and the header of the page it is printed on, showing it should be put in the in-game treasury.  The expectation is that, when preparing to run a game, the GMs would cut out all the cards assigned to a given location and put them in an envelope of things that should go in that location, to be distributed as gamespace is being set up.
}
\label{itemcardfig}
\end{figure}\begin{figure}
\centering
\includegraphics[width=3in]{item-label}
\caption{An \lstinline|ItemLabel| suitable for taping to a prop.}
\end{figure}
\begin{figure}
\centering
\includegraphics[width=3in]{item-fold-front} \includegraphics[width=2in]{item-fold-back}
\caption{The front and back of an example \lstinline|ItemFold|.}
\end{figure}

\begin{subsubsection}{Common item mechanics}
\gametex{} has built-in support for two standardized mechanics for items common to the MIT style of LARP, though it is easy to add your own special markers for items as well.  In case those are useful to your game, we will briefly cover them.
\begin{itemize}
\item An item can be configured with \lstinline|\unstash| to label it as unstashable: unable to be hidden.  This can be a choice for game balance to ensure that people always have a chance to find it, or simply a mechanic indicating the represented item is too big to be meaningfully hidden.
\item An item can be configured with \texttt{\textbackslash{}bulky\{$N$\}} to make it $N$ hands bulky.  The general rule is that an $N$-hands bulky item takes $N$ individual human hands to move easily, and can be dragged slowly with $N-1$ hands, which may be zero.  For example, a heavy duffel bag is likely one hand bulky because it can be carried easily in one hand or sort of kicked along the floor slowly, but a large urn is likely two hands bulky.  Traditionally, corpses are three hands bulky, meaning they can be dragged slowly by one person or carried easily with one other modest-sized item by two people.  Items at least one hand bulky are usually impossible to conceal.  Relatedly, items that represent containers may have a \emph{capacity}, usually represented in units of hands-bulky and set with \texttt{\textbackslash{}contains\{$N$\}}.
\end{itemize}
\end{subsubsection}
\begin{subsubsection}{Numbers}
As with characters, some games have used item numbers to reveal information that some characters can identify at a glance, though not necessarily at game start.  Philip Tan's thesis:
\begin{quote}
For instance, some characters may know that magical items can kill monsters but those
characters may be unaware that the only magical weapons in games are certain charmed
daggers. The GMs...must provide some players with the
ability to distinguish the daggers from all the other, non-magical items...To serve these purposes, item cards often have a series of numerical digits printed along
with their text descriptions. These numbers reflect traits of items without stating that
information in readable prose. Some players may know that a magical item will have a
leftmost digit greater than 5.
\end{quote}
\end{subsubsection}
\end{subsection}
\begin{subsection}{Places}
A place in \gametex{} is a namable thing that doesn't get a physical manifestation, though things like
items, signs, and other physical objects can be assigned to a place.  Common uses of places include:

\begin{itemize}
\item Places in the wider game world, such as nations or cities.
\item Abstract things in the game world, such as a year or decade.  (``In \lstinline|\pApocalypseYear{}|, everything changed when the \lstinline|\pFireNation{}| attacked.'')
\item Places in the game space, such as the garden.  Signs and items would get assigned to this place if they should be put in the area of gamespace that represents the garden.  The signs would be labeled as assigned to the garden; 
the item cards would be printed on a page that says ``Garden,'' though they wouldn't mention that when cut out.  See Figure \ref{itemcardfig} for an example.
\end{itemize}
\end{subsection}
\begin{subsection}{Signs}
Signs are precisely what they sound like.  \gametex{} supports signs in a variety of sizes, ranging from a full printed page to a tiny, deliberately hard-to-find size for players to search for.
Signs can have other game elements, such as items, greensheets, or whitesheets assigned to them, though signs cannot be nested.

Here are some example uses of signs.
\begin{itemize}
\item A description of what characters see when they look at a space.
\item A mechanic for something that can be done at a place: for example, a locked door, which can be smashed or lockpicked to access the room inside.
\item A fixed place for players to process a mechanic: for example, a spy for Atlantis might have be instructed to put their secret reports in the envelope attached to Sign K.
\item A publicly revealable piece of information that cannot be concealed, in contrast to whitesheets.
\end{itemize}

Here are some example sign definitions:
\begin{verbatim}
\NEW{Sign}{\sPrincess}{
  \s\MYname	{A Royal Suite}
  \s\MYloc	{Guest Rooms}
  \s\MYtext	{
		This is {\bf \cPrincess{}'s} private quarters.
		
		There are three ways to gain entrance to this bedroom:
		\begin{itemize}
		\item Be one of the people staying in this room. 
		\item Hit the door with a {\bf CR of 8} or greater.
		\item Pick the lock. This room has a lock difficulty of {\bf 2}. 
		\end{itemize}
		Once you have completed one of the above requirements, 
		put your hand on this sign for \textbf{2 minutes}. 
		(If the room is yours, you may bypass the wait time as well.) 
		Afterwards, you may lift the first sign and read what is underneath. 
		This represents going into the room and digging through 
		\cPrincess{}'s papers for something useful.
	}
}
\NEW{Sign}{\sPrincessPapers}{
  \s\MYname	{Papers}
  \s\MYloc	{Princess Suite}
  \s\MYtext	{Among \cPrincess{}'s papers you find plans to betray \pEastNation{}.}
  \s\MYitems {\iInvasionPlans{}}
}
\end{verbatim}

\end{subsection}
\begin{subsection}{Bluesheets, Greensheets, Whitesheets}
\label{sheets}
As a reminder:
\begin{itemize} 
\item Bluesheets are documents used to provide in-universe lore known by more than one character.  (If it is only known by one character, it can be on their character sheet.)
\item Greensheets are documents used to define mechanics from an out of character perspective.
\item Whitesheets are in-universe documents which can be picked up and perhaps written on by characters.
\end{itemize}
Each of these are written essentially as freeform text.

A bluesheet consists of two components.  First, a \lstinline|.tex| file in the \lstinline|Bluesheets| folder that looks like this:
\begin{verbatim}
\documentclass[blue]{game}
\begin{document}
\name{\bThisBlueSheet{}}
Here is some lore.
\end{document}
\end{verbatim}
Second, an entry in \lstinline|Lists/blue-LIST.tex|, looking like
\begin{verbatim}
\NEW{Blue}{\bThisBlueSheet}{
  \s\MYname	{Bluesheet Title}
  \s\MYfile	{bluefilename.tex}
}
\end{verbatim}

To assign this bluesheet to characters, you would write something like
\begin{verbatim}
\s\MYblues	{\bThisBlueSheet{} \bMaybeSomeOtherBluesheet{}}
\end{verbatim}
in the character definition.

Greensheets and whitesheets are precisely analogous, with ``blue'' replaced by ``green'' or ``white'' of the appropriate capitalization in each place.

Note that bluesheets are essentially always assigned to characters.  Bluesheets always reflect character knowledge about the setting; unlocking one would only make sense if e.g. a PC remembers a great deal of suppressed memory.   Greensheets will almost exclusively go to characters, but may be placed elsewhere in game if characters can unlock new mechanics.  Whitesheets are essentially items, just items representing documents, and can go essentially anywhere.

\begin{subsubsection}{When to use greensheets}
When building mechanics as a game designer, you have several options for how to present them to your players:
\begin{itemize}
\item Directly on character sheets.
\item Directly on e.g. game signs.
\item On ability cards.
\item On greensheets.
\end{itemize}

In general, mechanics should usually go on greensheets if they are available to multiple characters and are either long, or players will likely want access to them before game.  (If neither is the case, consider ability cards.)
\end{subsubsection}
\end{subsection}
\begin{subsection}{Abilities}
\label{abilities}
Abilities are printed on cards' that have a front and a back, with the front expected to contain full documentation about the ability, and the back containing the publicly visible effect of the ability.  
The definition of an ability might look like the following block in \lstinline|Lists/abil-LIST.tex|:
\begin{verbatim}
\NEW{Abil}{\aTest}{
  \s\MYname	{Example Ability} % can be cross-referenced
  \s\MYtext	{The user of the ability sees this.}
  \s\MYeffect	{The target of the ability sees this.}
}
\end{verbatim}
\begin{figure}
\includegraphics[width=3in]{ability-front}
\includegraphics[width=3in]{ability-back}
\caption{An example front and back of an ability card.}
\end{figure}

This is overkill for some games, but can be handy.  Consider an ability with the effect ``You believe what I'm saying.''
Some players might find it more difficult not to metagame if they knew the ability could be used once per hour on any sentence.

Abilities also print on handy cards, which can help players with many documents to keep track of their abilities more easily.  LRS tradition is to print abilities on yellow paper or cardstock, distinguishing them from other cards like mempackets and items.

Using ability cards can also make clear to uncertain players that the user ``has the authority'' to perform the mechanic, and is not simply interpreting their character sheet to mean that their character \emph{ought} to have the used power.  Whether or not this is necessary may vary based on your players' RP background and experience level.  Competitive players may find it easier to accept adverse effects on their character when they are ``authorized,'' while inexperienced players may be hesitant to decide that their character should be able to do a surprising thing.  It is also often easier for GMs to help players clarify mechanics by consulting the ability card.
\end{subsection}
\begin{subsection}{Mempackets and membooks}\label{mems}
Mempackets and membooks are how \gametex{} handles secrets \emph{from} your players that are revealed to them during the game as part of a mechanic rather than through roleplay.  As discussed earlier, an example mempacket might be assigned to the character Inigo Montoya.
Mempackets have triggers and contents: Inigo's mempacket might have the trigger ``Open after speaking to Count Rugen for one minute,'' and the content ``You recognize this voice from your nightmares, and are certain this person killed your father."

Mempackets are named for their use with amnesic characters, who recover memories under specific circumstances, but are applicable in almost any circumstance where characters have specific circumstances under which they unlock information.
Circumstances where \emph{any} character can satisfy a condition to unlock information should usually be handled with signs.
For a chain of triggers that form a dependent sequence, such as a set of inquiries and research tasks that unearth a final deadly secret, use notebooks (\ref{notebooks}).

\gametex{} has several formats for mempackets:
\begin{desc}
\item[MemFold] A single cut-out piece of paper, which has instructions to cut out the packet, fold along a dotted line, and staple at a specific point.  The outside indicates who the mempacket belongs to, and under what circumstances
to open it; when torn open, it reveals the secret information.
\item[MemEnvelope] Two separate strips or sheets of paper, one to be pasted to the outside of a sealed envelope, one to be placed inside.
\item[MemCover/MemPage] An unordered collection of memory triggers, packaged as a little booklet, with a cover page, and a tearable opening for each page.  Together, these are generally called a \emph{membook}. For example, a character who can read fortunes for other characters in game might have a ``Reading Fortunes'' cover for a set of mempages with the fortunes for each character.
\end{desc}
\begin{figure}
\centering
\includegraphics[width=3in]{memfold-front}\includegraphics[width=3in]{memfold-back}
\caption{An example \lstinline|MemFold|, printed with the rest of this specific character's mempackets.}
\end{figure}

In addition to their triggers, MemFolds, MemEnvelopes, and MemCovers should be given names.  These are used in cross-references, especially for character sheets to indicate which mempackets a player should be given.  These don't have to be especially meaningful names, and in many cases they shouldn't: just ``Mempacket A'' or the like will suffice.  These names don't even have to be unique, though GMs may find it easier (e.g. when you realize you need to reprint some) to have unique names for mempackets.

In \lrstex{}, mempackets have distinct \emph{name} and \emph{trigger} sections, which allows triggers to cross-reference variables like character names and numbers.  Mempacket names cannot make these cross-references.  (This is a change from \gametex{}, which combines names and triggers and disallows cross-references.)

\begin{verbatim}
% Some example mempackets in Lists/mem-LIST.tex
\NEW{MemFold}{\mTest}{
  \s\MYname {Mempacket A}
  \s\MYtrigger	{Open if you see a red handkerchief.}
  \s\MYtext	{Your brainwashing kicks in, and you are compelled to attack \cKing{}.}
}
\NEW{MemEnvelope}{\mEnvTest}{
  \s\MYname{Mempacket B}
  \s\MYtrigger	{Open if you see a blue handkerchief.}
  \s\MYtext	{This is a strip of paper that got tucked into a little envelope.}
}
\NEW{MemCover}{\mBookTest}{
  \s\MYname	{Book of Memory Packets}
  \s\MYmems	{\mPageOne{}\mPageTwo{}} % The pages assigned to this membook.
}
\NEW{MemPage}{\mPageOne}{
  \s\MYtrigger	{Open if you speak to \cKing{\full}.}
  \s\MYtext	{This is the \cKing{\Monarch}.}
}
\NEW{MemPage}{\mPageTwo}{
  \s\MYtrigger	{Open if you do not talk to \cKing{\full} in the first hour of game.}
  \s\MYtext	{You should talk to \cKing{}.}
}
\end{verbatim}
\end{subsection}
\begin{subsection}{Notebooks} \label{notebooks}
Notebooks are like a chain of dependent mempackets.  Usually, they print out in the same style as a membook, but they have numbers instead of triggers.  Each page will usually say something like ``When you go do X, open page $N$,''
and the instructions on the front usually say to open the first page at the start of the game.

\begin{verbatim}
\documentclass[notebook]{MyGame} %% [notebook] or [greennotebook]
\begin{document}
\startnotebook{\nTest{}}
\begin{page}{first}
Juggle.  If you can juggle 1 minute or more without dropping a single ball,
go to step \nbref{1min}.  If you can go for 5 minutes without dropping
a single ball, go to step \nbref{good}. 
% \nbref fills in the corresponding page number
\end{page}
\begin{page}{1min}
Learn to juggle better.
\end{page}
\begin{page}{good}
You can now use the title Super Juggler when referring to yourself.
\end{page}
\endnotebook
\end{document}
\end{verbatim}

Note that, if you compile twice, \gametex{} will automatically generate the correct cross-referenced page numbers.
\end{subsection}
\begin{subsection}{GMs}
\gametex{} generates goodies for GMs, which can be very handy.  GMs get their own special badges, and can even be assigned other game entities like abilities or greensheets.  This is most useful when the GM assigned to the puzzle room might be assigned a greensheet explaining how the puzzles work and what hints to give the players if they get stuck.  This avoids the risk of assigning that greensheet to the puzzle room itself, where it might get left by accident for a player to see.
\end{subsection}
\begin{subsection}{Sub-owners}
A sub-owner is a suite of game entities that should all be given to a character together, which can be handy for keeping a group of characters in sync.  For example, you might have an MI6 agent sub-owner which contains a Walther PPK pistol item, a license to kill whitesheet, and a ``call for resources'' greensheet describing the mechanic for getting additional assets from M.  You might then assign the MI6 agent sub-owner to both James Bond and Alec Trevelyan.  James and Alec could get additional sheets separately from each other, but if you wanted to modify what all MI6 agents got, you could do it in one place.
\end{subsection}
\end{section}
\begin{section}{Game production}
\label{prod}
Game production, often called \emph{prod}, is the process of taking your game and getting it ready to run: generating character sheets for your players, printing all the documents needed for your game, and so on.
\begin{subsection}{Configuration options}
\begin{subsubsection}{Draft mode}
\label{draft}
In addition to simple \LaTeX{} comments beginning with \lstinline{\%}, \gametex{} has a command \lstinline|\TODO{...}| with a special property.

In your \lstinline|LaTeX/MyGameName.cls| file is an option where you can set \lstinline|\gamedraft|
to \lstinline|\Draft| or \lstinline|\Final|.  This only makes one difference: what happens when you include \lstinline|\TODO{...}| in your files, whether the content appears if the game is set to draft mode, and does nothing if the game is set to final mode.

This is mostly useful for writing teams that value the ability to print out and mark up parts of the game in progress.  If you always write and edit your games in an editor like TeXnicCenter, you will always be able to see normal comments, but \lstinline|\TODO| can allow you to see notes left to yourself in the printed version.
\end{subsubsection}
\begin{subsubsection}{Runs}
\label{runs}
One of \gametex{}'s key use cases is for games that run more than once, concurrently or sequentially.  You don't need to copy/paste different versions of each file for each run: this is supported natively by \gametex{}.

In \lstinline|LaTeX/game.cls|, there is a definition of \lstinline|\gamerun|, which defaults to 1.
If you need to manage multiple runs of your game, you should set this option to the appropriate number
during production, and manage the matching \texttt{Lists/run$N$-LIST.tex}.

Suppose we have a character \lstinline|\cButtercup| for our Princess Bride game, and two game runs we want to generate, with differently-gendered players and characters.  In \lstinline|run1-LIST.tex|, we might have:
\begin{verbatim}
\updatePNG{\cButtercup}{John Coolplayer}{he/they}{Kevin McCharacter}{\hehim}
\end{verbatim}
and in \lstinline|run2-LIST.tex|, we might have:
\begin{verbatim}
\updatePNG{\cButtercup}{Jane Playsgood}{she/her}{Wendy McCharacter}{\sheher}
\end{verbatim}
Note that the third parameter to \lstinline|\updatePNG| is the player pronouns, not the character pronouns.

More customization options are available, discussed in the provided example \lstinline|run1-LIST.tex| file.
\end{subsubsection}
\begin{subsubsection}{Punting}
To \emph{punt}, in MIT vernacular, is to give up on or delay dealing with something for the moment.  Sometimes, LARP authors must punt on some part of their game when they are particularly hosed.  For example, if a particular mechanic isn't ready when you are sending sheets to your players, you don't want to unassign it from the characters who will get that greensheet, but you also won't want to send your players the draft version that has a bunch of ``FILL SOMETHING IN HERE'' sections.  Instead, you can punt on that greensheet for now and print it out to give to the players when they arrive to play.

\gametex{} has special support for punting on parts of your game during the printing process.  Read \texttt{Extras/README-punt.txt} for details.
\end{subsubsection}
\end{subsection}
\begin{subsection}{Printing}
To print your game, you will need to compile the relevant files from the \lstinline|Production| folder of your game to PDF, and print those.  

Many \gametex{} files, such as item cards, expect to be printed double-sided, as they have a front and back.  Every file \emph{can} be printed double sided, and it's often a good idea to save paper!

There are a number of options for how to print your game, depending on who you are printing for at what stage in the development process.

For example, \lstinline|Production/listchar-PRINT.tex| will be used to print out character sheets.  You have several options:
\begin{itemize}
\item You can explicitly list character sheets to print:
\begin{verbatim}
\cInigo{}
\cButtercup{}
\end{verbatim}
\item For content like bluesheets or items, you can print a \emph{compendium}, which has one copy of everything:
\begin{verbatim}
\compendium
\end{verbatim}
This is, as you might expect, extremely valuable to producing a ``GM binder'' of your game where you can look up all the content you've provided your players.
\item You can print \emph{production}, which prints all the relevant copies of each document.  For example, if a greensheet is assigned to three characters, and you are compiling \lstinline|Production/listgreen-PRINT.tex|, you will get three copies of that greensheet, each labeled as assigned to the given character.
\end{itemize}
\end{subsection}
\begin{subsection}{Badges}
\label{badges}

By compiling \lstinline|Production/badge-PRINT.tex|, you will generate name badges for both characters and GMs,
including any special character identities (see \ref{identities}) that opted into having name badges.
By default, these include the character's name, pronouns, number, player name, player pronouns, and description, skipping any that are absent.  Additionally, the opposite side of the printed name badge reads ``I'M NOT HERE,''
a handy feature for characters who are in game but invisible or stealthy, distinct from being out of character.

You can also configure badges to have even more information on alternate sides of the card.  For example, some games use an alternate side of the card as a ``death certificate,'' so when a character dies and the player is done playing their corpse, the player can leave their badge to represent the character's corpse and find something more interesting to do (like play an NPC).  To edit the content of this extra side,
edit \texttt{LaTeX/gametex.sty} in the section labeled ``parts of namebadges.''

\begin{figure}
\centering
\includegraphics[width=2in]{example-badge.eps}
\caption{An example PC's badge.}
\label{badgefig}
\end{figure}

Figure \ref{badgefig} shows an example PC's badge, including badge numbers as discussed in \ref{charnumber}. Note that all in-universe information is in bold font, and the game's name and date are displayed in smaller font.  If multiple instances of the game ran concurrently, you might use Run 1 and Run 2 instead of a date.
\end{subsection}
\begin{subsection}{Cheatsheet}
One of the files in the \lstinline{Production} folder is called \lstinline|cheatsheet-PRINT.tex|.  As you might expect, this generates a handy cheatsheet for GMs.

In particular, this cheatsheet specifies all PCs, NPCs, and places, and for each, what other things are assigned to them.  See Figure \ref{cheatfig} for an example.

\begin{figure}
\centering
\includegraphics[width=3in]{cheatsheet}
\caption{An example PC's entry on a GM cheatsheet.}
\label{cheatfig}
\end{figure}
\end{subsection}
\end{section}
\begin{section}{Modifying \gametex{}}
Many games will want to slightly modify the output normally produced by \gametex{}.  This guide cannot possibly tell you how to do all the things you could possibly want to do with your game, but will provide general guidelines for where to start.

Essentially all of \gametex{}'s programming -- the formatting and content of its output -- is defined in \lstinline|LaTeX/gametex.sty|.  

\begin{subsection}{Printed information}
Some changes involve changing what text content \gametex{} generates.  A common example is what information is shown on the badge: for example, public faction affiliations.

The first thing to do will be to examine the core file where most of \gametex{} is written: \lstinline|gametex.sty|.  This defines \gametex{}'s default behavior, though in some places it also defines tools to configure that behavior.  A common example is the definition of ``maps,'' like \lstinline|\badgemap| and \lstinline|\contactmap|.  These commands can be used to rearrange or reselect which elements of characters go into which location on the badges, or what is displayed when a character is listed as a contact on another character sheet.

For example, I modified it to correctly include characters' and players' pronoun information after overhauling the gender system.
\end{subsection}
\begin{subsection}{Aesthetic changes}

In addition to changing what information goes into various game documents, you can also use this file to change the appearance of those game documents to give your game some elements of graphic design.

The same system provides support for more graphic design, such as embedding an image in the background of badges, and more.

Significant changes are possible, but will require commensurate engineering effort.  \LaTeX{}, as a programmable document formatting and typesetting system, has a great range of capabilities.  Consider, for example, the instantly recognizable style of Wizards of the Coast D\&D 5e source material, and then an open source \LaTeX{} system for producing output in that style: \url{https://github.com/rpgtex/DND-5e-LaTeX-Template}.

To make a distinct aesthetic for your game, you will likely need to research the corresponding concepts in \LaTeX{}, and then hack |gametex.sty| to apply the appropriate instructions in your game.  
\end{subsection}
\end{section}
\end{document}
